(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{382:()=>{},2507:()=>{},2617:()=>{},3244:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>sN});var t=a(5155);a(2507),a(382),a(4233),a(6520),a(8005),a(7733);var l=a(2115),r=a(9852),c=a(7168),n=a(5784),i=a(9474),d=a(813),o=a(8773),m=a(8145),x=a(855),h=a(7924),u=a(1154),g=a(5339),j=a(7863),b=a(6474),p=a(1284),N=a(7108),v=a(6766),f=a(5708),y=a(525),w=a(6651);let C={setCode:e=>{try{if(!e||void 0===e.set_code||null===e.set_code)return"N/A";if("string"!=typeof e.set_code)return String(e.set_code);return e.set_code.toUpperCase()}catch(e){return console.warn("Erro ao acessar set_code",e),"N/A"}},setName:e=>{try{if(!e)return"Cole\xe7\xe3o desconhecida";return e.set_name||"Cole\xe7\xe3o desconhecida"}catch(e){return console.warn("Erro ao acessar set_name",e),"Cole\xe7\xe3o desconhecida"}}},k=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"small";return(0,f.VG)(e,s)},A=l.memo(e=>{let{card:s,collection:a}=e,r=(0,l.useMemo)(()=>a.filter(e=>e.card.id===s.id).reduce((e,s)=>e+s.quantity,0),[s.id,a]);return 0===r?null:(0,t.jsxs)(m.E,{variant:"secondary",className:"absolute top-2 left-2 bg-blue-600/90 text-white border-blue-500/50 z-10 backdrop-blur-sm",children:[r,"x na cole\xe7\xe3o"]})});A.displayName="QuantityBadge";let q=l.memo(e=>{let{onAdd:s,compact:a=!1}=e,[r,c]=(0,l.useState)(!1),n=(0,l.useRef)(null);(0,l.useEffect)(()=>()=>{n.current&&clearTimeout(n.current)},[]);let i=(0,l.useCallback)(e=>{c(!0),s(e),n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{c(!1)},1e3)},[s]);return a?(0,t.jsx)(w.A,{initialValue:1,onChange:i,showPresets:!1,className:"scale-90 origin-top-left"}):(0,t.jsx)(w.A,{initialValue:1,onChange:i,showPresets:!0})});q.displayName="QuantityControl";let S=l.memo(e=>{let{card:s,collection:a,onAddCard:r,viewMode:c}=e,{openModal:n}=(0,d.h)(),[i,o]=(0,l.useState)(!1),[m,f]=(0,l.useState)(!0),[w,S]=(0,l.useState)(!1),[E,P]=(0,l.useState)({versions:[],loading:!1,error:null}),[D,T]=(0,l.useState)({}),z=(0,l.useMemo)(()=>k(s,"small"),[s]),M=(0,l.useCallback)(()=>{f(!1)},[]),R=(0,l.useCallback)(()=>{o(!0),f(!1)},[]),V=(0,l.useCallback)(e=>{e.stopPropagation(),n(s)},[s,n]),L=(0,l.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;r(s,e)},[s,r]),B=(0,l.useCallback)(async()=>{if(!E.loading){P({versions:[],loading:!0,error:null});try{let e=await (0,y.vI)(s.name);if(!e.ok)throw Error("Erro ao buscar vers\xf5es");let t=(await e.json()).data||[],l=new Set(a.map(e=>e.card.id)),r=t.filter(e=>e.id!==s.id&&!l.has(e.id));P({versions:r,loading:!1,error:null})}catch(e){console.error("Erro ao buscar vers\xf5es:",e),P({versions:[],loading:!1,error:"Erro ao buscar vers\xf5es alternativas"})}}},[s.name,s.id,a]),F=(0,l.useCallback)(async()=>{let e=!w;w||0!==E.versions.length||E.loading||await B(),S(e=>!e),e&&setTimeout(()=>{let e=document.querySelector('[data-card-name="'.concat(s.id,'"]'));e&&e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100)},[w,E,B,s.id]),I=(0,l.useCallback)(async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;T(s=>({...s,[e.id]:!0}));try{r(e,s),P(s=>({...s,versions:s.versions.filter(s=>s.id!==e.id)})),setTimeout(()=>{T(s=>({...s,[e.id]:!1}))},1e3)}catch(s){console.error("Erro ao adicionar vers\xe3o:",s),T(s=>({...s,[e.id]:!1}))}},[r]),_=(0,l.useCallback)(()=>w?(0,t.jsxs)("div",{className:"mt-4 mtg-card",children:[(0,t.jsxs)("div",{className:"mtg-card-header",children:[(0,t.jsx)(h.A,{className:"mtg-card-icon"}),(0,t.jsx)("div",{className:"mtg-card-content",children:(0,t.jsxs)("h5",{className:"mtg-card-title text-sm",children:['Outras vers\xf5es de "',s.name,'"']})})]}),(0,t.jsx)("div",{className:"max-h-60 overflow-y-auto px-6 pb-6",children:E.loading?(0,t.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,t.jsx)(u.A,{className:"h-5 w-5 animate-spin text-blue-500 mr-2"}),(0,t.jsx)("span",{className:"text-slate-300 text-sm",children:"Buscando vers\xf5es..."})]}):E.error?(0,t.jsxs)("div",{className:"text-red-400 text-sm flex items-center gap-2 py-4",children:[(0,t.jsx)(g.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:E.error})]}):0===E.versions.length?(0,t.jsx)("div",{className:"text-slate-400 text-sm py-4 text-center",children:"Nenhuma vers\xe3o alternativa encontrada"}):(0,t.jsx)("div",{className:"space-y-3",children:E.versions.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-slate-800/30 rounded-xl hover:bg-slate-800/50 transition-colors group border border-slate-700/30",children:[(0,t.jsx)("div",{className:"w-12 h-16 bg-slate-900 rounded-lg overflow-hidden border border-slate-600/50 flex-shrink-0",children:k(e)?(0,t.jsx)("img",{src:k(e),alt:e.name,className:"w-full h-full object-contain cursor-pointer hover:scale-105 transition-transform",onClick:()=>n(e)}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xs text-slate-500 text-center",children:C.setCode(e)})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-sm text-white font-medium truncate",children:C.setCode(e)}),(0,t.jsx)("div",{className:"text-xs text-slate-400 truncate",children:C.setName(e)})]}),(0,t.jsx)("div",{className:"flex items-center gap-1",children:(0,t.jsx)(q,{onAdd:s=>I(e,s),compact:!0})})]},e.id))})})]}):null,[w,E,s.name,n,I]);return"grid"===c?(0,t.jsxs)("div",{className:"relative group","data-card-name":s.id,children:[(0,t.jsx)(A,{card:s,collection:a}),(0,t.jsxs)("div",{className:"cursor-pointer rounded-xl overflow-hidden flex flex-col border border-slate-700/50 hover:border-blue-500/50 hover:shadow-lg hover:shadow-blue-500/20 transition-all bg-slate-800/30 backdrop-blur-sm",onClick:V,children:[z&&!i?(0,t.jsxs)("div",{className:"aspect-[63/88] relative overflow-hidden bg-slate-900 flex items-center justify-center",children:[m&&(0,t.jsx)("div",{className:"absolute inset-0 bg-slate-700 rounded-t-xl animate-pulse flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-slate-400 text-xs",children:"Carregando..."})}),(0,t.jsx)(v.default,{src:z,alt:s.name,fill:!0,className:"object-contain transition-opacity ".concat(m?"opacity-0":"opacity-100"),onLoad:M,onError:R,sizes:"(max-width: 640px) 50vw, (max-width: 768px) 33vw, (max-width: 1024px) 25vw, 20vw"})]}):(0,t.jsx)("div",{className:"aspect-[63/88] bg-slate-800 flex items-center justify-center text-center p-2",children:(0,t.jsx)("span",{className:"text-xs text-slate-400",children:s.name})}),(0,t.jsxs)("div",{className:"bg-slate-800/50 p-2 min-h-[80px] flex flex-col items-center justify-center gap-1",children:[(0,t.jsx)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity w-full",onClick:e=>e.stopPropagation(),children:(0,t.jsx)(q,{onAdd:L,compact:!0})}),(0,t.jsxs)("button",{onClick:e=>{e.stopPropagation(),F()},className:"opacity-0 group-hover:opacity-100 transition-opacity text-xs text-blue-400 hover:text-blue-300 h-5 px-2 rounded border border-blue-500/30 bg-blue-500/10 hover:bg-blue-500/20 transition-colors flex items-center gap-1",children:[w?(0,t.jsx)(j.A,{className:"h-3 w-3"}):(0,t.jsx)(b.A,{className:"h-3 w-3"}),"Vers\xf5es"]})]})]}),_()]}):"details"===c?(0,t.jsxs)("div",{"data-card-name":s.id,children:[(0,t.jsx)("div",{className:"mtg-card",children:(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"flex gap-6",children:[(0,t.jsx)(A,{card:s,collection:a}),(0,t.jsx)("div",{className:"relative flex-shrink-0",children:z&&!i?(0,t.jsxs)("div",{className:"relative w-32 h-44",children:[m&&(0,t.jsx)("div",{className:"absolute inset-0 bg-slate-700 rounded-lg animate-pulse"}),(0,t.jsx)(v.default,{src:z,alt:s.name,fill:!0,className:"object-cover rounded-lg transition-opacity ".concat(m?"opacity-0":"opacity-100"),onLoad:M,onError:R,sizes:"128px"})]}):(0,t.jsx)("div",{className:"w-32 h-44 bg-slate-700 rounded-lg flex items-center justify-center",children:(0,t.jsx)(g.A,{className:"h-8 w-8 text-slate-400"})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0 space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-white font-semibold text-lg",children:s.name}),(0,t.jsx)("p",{className:"text-slate-400",children:s.set_name}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:s.type_line})]}),s.oracle_text&&(0,t.jsxs)("div",{className:"text-slate-300 text-sm",children:[(0,t.jsx)("p",{className:"font-medium text-slate-200 mb-1",children:"Texto:"}),(0,t.jsx)("p",{className:"italic",children:s.oracle_text})]}),(s.power||s.toughness)&&(0,t.jsxs)("div",{className:"text-slate-300 text-sm",children:[(0,t.jsx)("span",{className:"font-medium text-slate-200",children:"P/T:"})," ",s.power,"/",s.toughness]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 items-end",children:[(0,t.jsx)(q,{onAdd:L}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:V,className:"mtg-button mtg-button-secondary",children:[(0,t.jsx)(p.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Ver Detalhes"})]}),(0,t.jsx)("button",{onClick:F,className:"mtg-button mtg-button-ghost",children:w?(0,t.jsx)(j.A,{className:"h-4 w-4"}):(0,t.jsx)(b.A,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"w-full mt-4 pt-4 border-t border-slate-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(N.A,{className:"w-4 h-4 text-blue-400"}),(0,t.jsx)("span",{className:"text-sm font-medium text-slate-300",children:"Adicionar a Deck"})]}),(0,t.jsx)(x.A,{card:s,className:"w-full",showCreateDeck:!0,showCategorySelect:!0})]})]})]})})}),_()]}):(0,t.jsxs)("div",{"data-card-name":s.id,children:[(0,t.jsx)("div",{className:"mtg-card-mini",children:(0,t.jsx)("div",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(A,{card:s,collection:a}),(0,t.jsx)("div",{className:"relative flex-shrink-0",children:z&&!i?(0,t.jsxs)("div",{className:"relative w-16 h-20",children:[m&&(0,t.jsx)("div",{className:"absolute inset-0 bg-slate-700 rounded-lg animate-pulse"}),(0,t.jsx)(v.default,{src:z,alt:s.name,fill:!0,className:"object-cover rounded-lg transition-opacity ".concat(m?"opacity-0":"opacity-100"),onLoad:M,onError:R,sizes:"64px"})]}):(0,t.jsx)("div",{className:"w-16 h-20 bg-slate-700 rounded-lg flex items-center justify-center",children:(0,t.jsx)(g.A,{className:"h-6 w-6 text-slate-400"})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"text-white font-medium",children:s.name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:s.set_name}),(0,t.jsx)("p",{className:"text-slate-500 text-xs",children:s.type_line})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(q,{onAdd:L}),(0,t.jsx)("button",{onClick:V,className:"mtg-button mtg-button-ghost",children:(0,t.jsx)(p.A,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:F,className:"mtg-button mtg-button-ghost",children:w?(0,t.jsx)(j.A,{className:"h-4 w-4"}):(0,t.jsx)(b.A,{className:"h-4 w-4"})})]})]})})}),_()]})});function E(e){let{cards:s,collection:a,onAddCard:r,className:c=""}=e,{visualizationType:n}=(0,d.h)(),i=(0,l.useMemo)(()=>{switch(n){case"grid":return"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 ".concat(c);case"details":return"space-y-6 ".concat(c);default:return"space-y-3 ".concat(c)}},[n,c]);return(0,t.jsx)("div",{className:i,children:s.map(e=>(0,t.jsx)(S,{card:e,collection:a,onAddCard:r,viewMode:n},"search-card-item-".concat(e.id)))})}S.displayName="SearchCardItem";var P=a(3702),D=a(8482),T=a(7712),z=a(4616),M=a(4653),R=a(5968),V=a(381),L=a(133),B=a(809);let F=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"small";return(0,f.VG)(e,s)},I={setCode:e=>{try{if(!e||void 0===e.set_code||null===e.set_code)return"N/A";if("string"!=typeof e.set_code)return String(e.set_code);return e.set_code.toUpperCase()}catch(e){return console.warn("Erro ao acessar set_code",e),"N/A"}},setName:e=>{try{if(!e)return"Cole\xe7\xe3o desconhecida";return e.set_name||"Cole\xe7\xe3o desconhecida"}catch(e){return console.warn("Erro ao acessar set_name",e),"Cole\xe7\xe3o desconhecida"}}},_=e=>{let{collectionCards:s,onRemoveCard:a,onAddCard:n,onUpdateCardQuantity:i,onAddToDeck:o,className:x=""}=e,{openModal:h,visualizationType:p}=(0,d.h)(),[N,v]=(0,l.useState)({}),[f,w]=(0,l.useState)("grid"),[C,k]=(0,l.useState)({}),[A,q]=(0,l.useState)(null),[S,E]=(0,l.useState)({}),P=s.reduce((e,s)=>{let a=s.card.name;return e[a]||(e[a]=[]),e[a].push(s),e},{}),_=(0,l.useCallback)((e,s)=>{let a=C[e];if(a){let e=s.find(e=>e.card.id===a);if(e)return e}return s[0]},[C]),O=(0,l.useCallback)((e,s)=>{k(a=>({...a,[e]:s}))},[]),G=(0,l.useCallback)(e=>{a(e)},[a]);(0,l.useCallback)(e=>{(P[e]||[]).forEach(e=>{a(e.card)})},[P,a]);let $=(0,l.useCallback)((e,s)=>{i&&i(e,s)},[i]),U=(0,l.useCallback)(async e=>{let s=N[e];v(a=>({...a,[e]:!s})),s||S[e]||(await H(e),setTimeout(()=>{let s=document.querySelector('[data-card-name="'.concat(e,'"]'));s&&s.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100))},[N,S]),H=(0,l.useCallback)(async e=>{var s,a;if(null===(s=S[e])||void 0===s||!s.loading){E(s=>({...s,[e]:{versions:[],loading:!0,error:null}}));try{let s=await (0,y.vI)(e);if(!s.ok)throw Error("Erro ao buscar vers\xf5es");let t=(await s.json()).data||[],l=new Set((null===(a=P[e])||void 0===a?void 0:a.map(e=>e.card.id))||[]),r=t.filter(e=>!l.has(e.id));E(s=>({...s,[e]:{versions:r,loading:!1,error:null}}))}catch(s){console.error("Erro ao buscar vers\xf5es:",s),E(s=>({...s,[e]:{versions:[],loading:!1,error:"Erro ao buscar vers\xf5es alternativas"}}))}}},[P,S]),Z=(0,l.useCallback)(async e=>{q(e.id);try{n(e),E(s=>{let a={...s};return Object.keys(a).forEach(s=>{a[s]&&(a[s]={...a[s],versions:a[s].versions.filter(s=>s.id!==e.id)})}),a}),setTimeout(()=>q(null),1e3)}catch(e){console.error("Erro ao adicionar carta:",e),q(null)}},[n]),W=(0,l.useCallback)(e=>{let{card:s,quantity:a,onAdd:n,onUpdate:i,onRemove:d}=e,[o,m]=(0,l.useState)(1),[x,h]=(0,l.useState)(a||0);l.useEffect(()=>{h(a||0)},[a]);let u=e=>{let s=Math.max(0,x+e);i&&i(s)},g=e=>{let s=Math.max(0,e);i&&i(s)};return(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[void 0!==a?(0,t.jsxs)("div",{className:"flex items-center border rounded bg-gray-800",children:[(0,t.jsx)(c.$,{size:"sm",variant:"ghost",onClick:()=>u(-1),className:"h-6 w-6 p-0 text-white hover:bg-red-600",children:(0,t.jsx)(T.A,{className:"h-3 w-3"})}),(0,t.jsx)(r.p,{type:"number",value:x,onChange:e=>g(parseInt(e.target.value)||0),className:"w-12 h-6 text-center border-0 rounded-none bg-transparent text-white text-xs",min:"0"}),(0,t.jsx)(c.$,{size:"sm",variant:"ghost",onClick:()=>u(1),className:"h-6 w-6 p-0 text-white hover:bg-green-600",children:(0,t.jsx)(z.A,{className:"h-3 w-3"})})]}):(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsxs)("div",{className:"flex items-center border rounded bg-gray-800",children:[(0,t.jsx)(c.$,{size:"sm",variant:"ghost",onClick:()=>m(Math.max(1,o-1)),className:"h-6 w-6 p-0 text-white",children:(0,t.jsx)(T.A,{className:"h-3 w-3"})}),(0,t.jsx)(r.p,{type:"number",value:o,onChange:e=>m(Math.max(1,parseInt(e.target.value)||1)),className:"w-12 h-6 text-center border-0 rounded-none bg-transparent text-white text-xs",min:"1"}),(0,t.jsx)(c.$,{size:"sm",variant:"ghost",onClick:()=>m(o+1),className:"h-6 w-6 p-0 text-white",children:(0,t.jsx)(z.A,{className:"h-3 w-3"})})]}),(0,t.jsxs)(c.$,{onClick:()=>{n&&n(o)},size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white text-xs px-2 h-6",children:["+",o]})]}),d&&(0,t.jsx)(c.$,{size:"sm",variant:"ghost",onClick:d,className:"h-6 w-6 p-0 text-red-400 hover:bg-red-900/20",children:(0,t.jsx)(T.A,{className:"h-3 w-3"})})]})},[]),J=(0,l.useCallback)((e,s)=>{var a;let l=S[e],r=s.reduce((e,s)=>e+s.quantity,0),i=s.length>1;return(0,t.jsxs)("div",{className:"rounded-lg text-card-foreground bg-gray-800/80 backdrop-blur-xl shadow-2xl overflow-hidden border-0",children:[(0,t.jsx)("div",{className:"p-3 border-b border-gray-700/50",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-white",children:e}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:"Gerencie suas vers\xf5es e quantidades"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.$,{size:"sm",variant:"ghost",onClick:()=>w("grid"),className:"h-7 w-7 p-0 ".concat("grid"===f?"bg-blue-600 text-white":"text-gray-400 hover:text-white"),children:(0,t.jsx)(M.A,{className:"h-3 w-3"})}),(0,t.jsx)(c.$,{size:"sm",variant:"ghost",onClick:()=>w("list"),className:"h-7 w-7 p-0 ".concat("list"===f?"bg-blue-600 text-white":"text-gray-400 hover:text-white"),children:(0,t.jsx)(R.A,{className:"h-3 w-3"})})]})]})}),(0,t.jsxs)("div",{className:"h-64 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800 hover:scrollbar-thumb-gray-500",children:[(null==l?void 0:l.loading)&&(0,t.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,t.jsx)(u.A,{className:"h-5 w-5 animate-spin text-blue-500 mr-2"}),(0,t.jsx)("span",{className:"text-gray-300 text-sm",children:"Buscando vers\xf5es..."})]}),i&&!(null==l?void 0:l.loading)&&(0,t.jsxs)("div",{className:"p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)("h5",{className:"text-sm font-semibold text-white",children:"Na sua cole\xe7\xe3o"}),(0,t.jsxs)(m.E,{variant:"secondary",className:"bg-green-600/20 text-green-400 text-xs",children:[r,"x total"]}),(0,t.jsxs)(c.$,{size:"sm",variant:"ghost",onClick:()=>O(e,s[0].card.id),className:"text-xs text-blue-400 hover:text-blue-300 h-5 px-2",title:"Trocar arte principal",children:[(0,t.jsx)(V.A,{className:"h-3 w-3 mr-1"}),"Trocar Principal"]})]}),"grid"===f?(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2",children:s.map((s,a)=>(0,t.jsxs)("div",{className:"relative group bg-gray-800/50 rounded-lg p-2 hover:bg-gray-800/70 transition-colors",children:[(0,t.jsx)("div",{className:"w-full aspect-[63/88] bg-gray-900 rounded overflow-hidden border border-gray-600 mb-2",children:F(s.card)?(0,t.jsx)("img",{src:F(s.card),alt:e,className:"w-full h-full object-contain cursor-pointer hover:scale-105 transition-transform",onClick:()=>h(s.card)}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xs text-gray-500 text-center",children:I.setCode(s.card)})})}),(0,t.jsxs)("div",{className:"text-center mb-2",children:[(0,t.jsx)("div",{className:"text-xs text-white font-medium truncate",children:I.setCode(s.card)}),(0,t.jsx)("div",{className:"text-xs text-gray-400 truncate",children:I.setName(s.card)})]}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(W,{card:s.card,quantity:s.quantity,onAdd:e=>n(s.card,e),onRemove:()=>G(s.card),onUpdate:e=>$(s.card,e)})}),(0,t.jsx)(c.$,{size:"sm",variant:"ghost",onClick:()=>O(e,s.card.id),className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 h-6 w-6 p-0 bg-blue-600/80 hover:bg-blue-600 text-white transition-all",title:"Definir como arte principal",children:(0,t.jsx)(L.A,{className:"h-3 w-3"})})]},"".concat(s.card.id,"-").concat(a)))}):(0,t.jsx)("div",{className:"space-y-2",children:s.map((s,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-gray-800/50 rounded-lg hover:bg-gray-800/70 transition-colors group",children:[(0,t.jsx)("div",{className:"w-12 h-16 bg-gray-900 rounded overflow-hidden border border-gray-600 flex-shrink-0",children:F(s.card)?(0,t.jsx)("img",{src:F(s.card),alt:e,className:"w-full h-full object-contain cursor-pointer hover:scale-105 transition-transform",onClick:()=>h(s.card)}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xs text-gray-500 text-center",children:I.setCode(s.card)})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-sm text-white font-medium truncate",children:I.setCode(s.card)}),(0,t.jsx)("div",{className:"text-xs text-gray-400 truncate",children:I.setName(s.card)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(W,{card:s.card,quantity:s.quantity,onAdd:e=>n(s.card,e),onRemove:()=>G(s.card),onUpdate:e=>$(s.card,e)}),(0,t.jsx)(c.$,{size:"sm",variant:"ghost",onClick:()=>O(e,s.card.id),className:"h-6 w-6 p-0 text-blue-400 hover:bg-blue-900/20 opacity-0 group-hover:opacity-100 transition-all",title:"Definir como arte principal",children:(0,t.jsx)(L.A,{className:"h-3 w-3"})})]})]},"".concat(s.card.id,"-").concat(a)))})]}),l&&!l.loading&&(0,t.jsx)("div",{className:"p-3 border-t border-gray-700/50",children:l.error?(0,t.jsxs)("div",{className:"text-red-400 text-sm flex items-center gap-2 py-4",children:[(0,t.jsx)(g.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:l.error})]}):0===l.versions.length?(0,t.jsx)("div",{className:"text-gray-400 text-sm py-4 text-center",children:"Nenhuma vers\xe3o alternativa encontrada"}):(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)("h5",{className:"text-sm font-semibold text-white",children:"Outras vers\xf5es dispon\xedveis"}),(0,t.jsxs)(m.E,{variant:"outline",className:"bg-blue-600/20 text-blue-400 text-xs border-blue-600/30",children:[l.versions.length," encontradas"]})]}),(0,t.jsx)("div",{className:"space-y-2",children:l.versions.map(s=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-gray-800/30 rounded-lg hover:bg-gray-800/50 transition-colors group",children:[(0,t.jsx)("div",{className:"w-12 h-16 bg-gray-900 rounded overflow-hidden border border-gray-600 flex-shrink-0",children:F(s)?(0,t.jsx)("img",{src:F(s),alt:e,className:"w-full h-full object-contain cursor-pointer hover:scale-105 transition-transform",onClick:()=>h(s)}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xs text-gray-500 text-center",children:I.setCode(s)})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-sm text-white font-medium truncate",children:I.setCode(s)}),(0,t.jsx)("div",{className:"text-xs text-gray-400 truncate",children:I.setName(s)})]}),(0,t.jsx)(c.$,{size:"sm",onClick:()=>Z(s),disabled:A===s.id,className:"px-3 py-1 text-xs opacity-70 group-hover:opacity-100 transition-all duration-200 transform hover:scale-105 ".concat(A===s.id?"bg-green-600 text-white":"bg-blue-600 hover:bg-blue-700 text-white"),children:A===s.id?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.A,{className:"w-3 h-3 mr-1 animate-spin"}),"Adicionado!"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(z.A,{className:"w-3 h-3 mr-1"}),"Adicionar"]})})]},s.id))})]})}),(0,t.jsx)("div",{className:"p-3 border-t border-gray-700/50",children:(0,t.jsx)(B.A,{card:null===(a=s[0])||void 0===a?void 0:a.card,className:"w-full"})})]})]})},[S,h,Z,n,a]);return"grid"===p?(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 ".concat(x),children:Object.entries(P).map(e=>{let[s,a]=e,l=a.reduce((e,s)=>e+s.quantity,0),r=N[s],n=_(s,a);return(0,t.jsx)("div",{"data-card-name":s,className:"relative transition-all duration-300 ".concat(r?"col-span-full":""),children:r?(0,t.jsxs)("div",{className:"flex gap-4 bg-gray-800/30 rounded-lg p-4 border border-gray-700/50",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsxs)("div",{className:"w-48 aspect-[63/88] rounded-lg overflow-hidden border border-gray-700 hover:border-blue-500 transition-colors",children:[(0,t.jsx)("div",{className:"absolute top-2 left-2 bg-blue-600 text-white text-sm rounded-full w-8 h-8 flex items-center justify-center font-bold z-10",children:l}),(0,t.jsx)("div",{className:"w-full h-full bg-gray-900 flex items-center justify-center cursor-pointer",onClick:()=>h(n.card),children:F(n.card)?(0,t.jsx)("img",{src:F(n.card),alt:s,className:"w-full h-full object-contain hover:scale-105 transition-transform duration-200",crossOrigin:"anonymous"}):(0,t.jsx)("span",{className:"text-sm text-gray-400 text-center p-4",children:s})})]}),(0,t.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,t.jsxs)(c.$,{size:"sm",variant:"ghost",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>U(s),children:[(0,t.jsx)(j.A,{className:"h-4 w-4 mr-1"}),"Ocultar Vers\xf5es"]}),(0,t.jsx)(c.$,{size:"sm",variant:"ghost",className:"bg-red-700 hover:bg-red-600 text-white px-3",onClick:()=>G(_(s,a).card),title:"Remover apenas esta vers\xe3o",children:(0,t.jsx)(T.A,{className:"h-4 w-4"})})]})]})}),(0,t.jsx)("div",{className:"flex-1 min-w-0",children:J(s,a)})]}):(0,t.jsx)("div",{className:"relative group",children:(0,t.jsxs)("div",{className:"cursor-pointer rounded-lg overflow-hidden flex flex-col border border-gray-700 hover:border-blue-500 hover:shadow-md hover:shadow-blue-500/20 transition-all duration-200",children:[(0,t.jsx)("div",{className:"absolute top-2 left-2 bg-blue-600 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold z-10",children:l}),(0,t.jsxs)("div",{className:"aspect-[63/88] overflow-hidden bg-gray-900 flex items-center justify-center relative",onClick:()=>h(n.card),children:[F(n.card)?(0,t.jsx)("img",{src:F(n.card),alt:s,className:"w-full h-full object-contain hover:scale-105 transition-transform duration-200",crossOrigin:"anonymous"}):(0,t.jsx)("span",{className:"text-xs text-gray-400 text-center p-2",children:s}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-white text-center",children:[(0,t.jsxs)("p",{className:"text-xs font-medium",children:[a.length," vers\xe3o",a.length>1?"\xf5es":""]}),(0,t.jsx)("p",{className:"text-xs text-gray-300",children:"Clique para detalhes"})]})})]}),(0,t.jsxs)("div",{className:"bg-gray-800 p-2 flex gap-1",children:[(0,t.jsxs)(c.$,{size:"sm",variant:"ghost",className:"flex-1 bg-gray-700 hover:bg-blue-600 text-white h-7 transition-colors duration-200",onClick:()=>U(s),children:[(0,t.jsx)(b.A,{className:"h-3 w-3 mr-1"}),"Vers\xf5es"]}),(0,t.jsx)(c.$,{size:"sm",variant:"ghost",className:"bg-red-700 hover:bg-red-600 text-white h-7 px-2 transition-colors duration-200",onClick:()=>G(_(s,a).card),title:"Remover apenas esta vers\xe3o",children:(0,t.jsx)(T.A,{className:"h-3 w-3"})})]})]})})},s)})}):"list"===p?(0,t.jsx)("div",{className:"space-y-3 ".concat(x),children:Object.entries(P).map(e=>{let[s,a]=e,l=N[s],r=a.reduce((e,s)=>e+s.quantity,0),n=_(s,a);return(0,t.jsx)(D.Zp,{"data-card-name":s,className:"bg-gray-800/50 border-gray-700/50 hover:bg-gray-700/50 transition-colors",children:(0,t.jsxs)(D.Wu,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,t.jsx)("div",{className:"w-16 h-20 bg-gray-900 rounded overflow-hidden",children:F(n.card)?(0,t.jsx)("img",{src:F(n.card),alt:s,className:"w-full h-full object-contain cursor-pointer",onClick:()=>h(n.card)}):(0,t.jsx)("span",{className:"text-xs text-gray-400 text-center p-2",children:s})}),(0,t.jsx)("div",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:r})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"text-white font-medium",children:s}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:I.setName(n.card)}),(0,t.jsxs)("p",{className:"text-gray-500 text-xs",children:[a.length," vers\xe3o",a.length>1?"\xf5es":""," na cole\xe7\xe3o"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[o&&(0,t.jsx)(c.$,{size:"sm",variant:"outline",onClick:()=>o(n.card),className:"border-green-600 text-green-400 hover:bg-green-900/20",title:"Adicionar ao deck",children:(0,t.jsx)(z.A,{className:"w-4 h-4"})}),(0,t.jsx)(c.$,{size:"sm",variant:"outline",onClick:()=>U(s),className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:l?(0,t.jsx)(j.A,{className:"w-4 h-4"}):(0,t.jsx)(b.A,{className:"w-4 h-4"})}),(0,t.jsx)(c.$,{size:"sm",variant:"outline",onClick:()=>G(_(s,a).card),className:"border-red-600 text-red-400 hover:bg-red-900/20",title:"Remover apenas esta vers\xe3o",children:"Remover"})]})]}),l&&J(s,a)]})},s)})}):(0,t.jsx)("div",{className:"space-y-4",children:Object.entries(P).map(e=>{let[s,a]=e,l=N[s],r=a.reduce((e,s)=>e+s.quantity,0),n=_(s,a);return(0,t.jsx)(D.Zp,{className:"bg-gray-800/50 border-gray-700/50 overflow-hidden",children:(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,t.jsx)("div",{className:"w-16 h-22 bg-gray-900 rounded overflow-hidden",children:F(n.card)?(0,t.jsx)("img",{src:F(n.card),alt:s,className:"w-full h-full object-contain cursor-pointer",onClick:()=>h(n.card)}):(0,t.jsx)("span",{className:"text-xs text-gray-400 text-center p-2",children:s})}),(0,t.jsx)("div",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold",children:r})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0 space-y-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-white font-semibold text-lg",children:s}),(0,t.jsx)("p",{className:"text-gray-400",children:I.setName(n.card)}),(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:n.card.type_line})]}),n.card.oracle_text&&(0,t.jsxs)("div",{className:"text-gray-300 text-sm",children:[(0,t.jsx)("p",{className:"font-medium text-gray-200 mb-1",children:"Texto:"}),(0,t.jsx)("p",{className:"italic",children:n.card.oracle_text})]}),(n.card.power||n.card.toughness)&&(0,t.jsxs)("div",{className:"text-gray-300 text-sm",children:[(0,t.jsx)("span",{className:"font-medium text-gray-200",children:"P/T:"})," ",n.card.power,"/",n.card.toughness]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[o&&(0,t.jsxs)(c.$,{size:"sm",variant:"outline",onClick:()=>o(n.card),className:"border-green-600 text-green-400 hover:bg-green-900/20",title:"Adicionar ao deck",children:[(0,t.jsx)(z.A,{className:"w-4 h-4 mr-1"}),"Deck"]}),(0,t.jsx)(c.$,{size:"sm",variant:"outline",onClick:()=>U(s),className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:l?(0,t.jsx)(j.A,{className:"w-4 h-4"}):(0,t.jsx)(b.A,{className:"w-4 h-4"})}),(0,t.jsx)(c.$,{size:"sm",variant:"outline",onClick:()=>G(_(s,a).card),className:"border-red-600 text-red-400 hover:bg-red-900/20",title:"Remover apenas esta vers\xe3o",children:"Remover"})]})]}),l&&J(s,a)]})},s)})})};var O=a(8719),G=a(8564),$=a(1482),U=a(3904),H=a(2525),Z=a(1788);a(9930);let W=["all","common","uncommon","rare","mythic","special","bonus"],J=["all","creature","artifact","enchantment","instant","sorcery","planeswalker","land","token","artifact creature","enchantment creature"],Q=["all","elf","goblin","zombie","angel","dragon","vampire","wizard","warrior","human","beast","spirit","sliver","merfolk","dinosaur","giant","elemental","knight","soldier","rogue","cleric"],K=["all","legendary","basic","snow","world","ongoing"],Y=["all","foil","nonfoil"],X=["W","U","B","R","G","C"];function ee(e){let{allCards:s,setAllCards:m,exportCollectionToCSV:x}=e,{currentCollection:u,adicionarCarta:j,removerCarta:b}=(0,o.U)(),[p,v]=(0,l.useState)("pesquisa"),[f,w]=(0,l.useState)(""),[C,k]=(0,l.useState)("all"),[A,q]=(0,l.useState)("all"),[S,D]=(0,l.useState)("all"),[T,z]=(0,l.useState)("all"),[M,R]=(0,l.useState)(""),[L,B]=(0,l.useState)("all"),[F,I]=(0,l.useState)(""),[ee,es]=(0,l.useState)([]),[ea,et]=(0,l.useState)(!1),[el,er]=(0,l.useState)(!1),[ec,en]=(0,l.useState)("name"),[ei,ed]=(0,l.useState)("asc"),[eo,em]=(0,l.useState)("all"),[ex,eh]=(0,l.useState)("all"),[eu,eg]=(0,l.useState)(""),[ej,eb]=(0,l.useState)([]),[ep,eN]=(0,l.useState)(!1),[ev,ef]=(0,l.useState)(null),[ey,ew]=(0,l.useState)(""),[eC,ek]=(0,l.useState)([]),[eA,eq]=(0,l.useState)(!1),eS=(0,l.useMemo)(()=>Array.from(new Set(["Lightning Bolt","Counterspell","Sol Ring","Swords to Plowshares","Dark Ritual",...u.cards.map(e=>e.card.name).slice(0,5)])),[u.cards]),eE=(0,l.useCallback)(e=>{e.trim()&&(w(e),v("pesquisa"),eq(!1),ek(s=>[e,...s.filter(s=>s!==e)].slice(0,10)))},[]),[eP,eD]=(0,l.useState)({type:"info",message:"",visible:!1}),{openModal:eT}=(0,d.h)();(0,l.useCallback)(function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;for(let a=0;a<s;a++)j(e);ez("success","".concat(s,"x ").concat(e.name," adicionada").concat(s>1?"s":""," \xe0 cole\xe7\xe3o!"))},[j]);let ez=(0,l.useCallback)((e,s)=>{eD({type:e,message:s,visible:!0}),setTimeout(()=>{eD(e=>({...e,visible:!1}))},3e3)},[]),eM=(0,l.useMemo)(()=>{let e=u.cards;if(eu.trim()){let s=eu.trim();e=e.filter(e=>(0,P.S)(e.card,s))}return"all"!==eo&&(e=e.filter(e=>e.card.rarity===eo)),"all"!==ex&&(e="colorless"===ex?e.filter(e=>!e.card.color_identity||0===e.card.color_identity.length):e.filter(e=>e.card.color_identity&&e.card.color_identity.includes(ex))),e.sort((e,s)=>{let a=0;switch(ec){case"name":a=e.card.name.localeCompare(s.card.name);break;case"rarity":let t={common:1,uncommon:2,rare:3,mythic:4};a=(t[e.card.rarity]||0)-(t[s.card.rarity]||0);break;case"cmc":a=(e.card.cmc||0)-(s.card.cmc||0);break;case"quantity":a=e.quantity-s.quantity;break;case"date":a=new Date(e.card.released_at||"").getTime()-new Date(s.card.released_at||"").getTime()}return"asc"===ei?a:-a}),e},[u.cards,eu,eo,ex,ec,ei]),eR=(0,l.useCallback)(e=>{ec===e?ed(e=>"asc"===e?"desc":"asc"):(en(e),ed("asc"))},[ec]),eV=async()=>{if(!f.trim()&&"all"===C&&"all"===A&&"all"===S&&"all"===T&&!M&&!F&&0===ee.length&&"all"===L){ef("Por favor, defina pelo menos um filtro para pesquisar");return}eN(!0),ef(null);try{let e=[];if(f.trim()&&e.push(encodeURIComponent(f.trim())),"all"!==C&&e.push("rarity:".concat(C)),"all"!==A&&e.push("type:".concat(A)),"all"!==S&&e.push("type:".concat(S)),"all"!==T&&e.push("is:".concat(T)),M){let s=parseInt(M);isNaN(s)||e.push("cmc=".concat(s))}"foil"===L&&e.push("is:foil"),"nonfoil"===L&&e.push("-is:foil"),F.trim()&&e.push('oracle:"'.concat(encodeURIComponent(F.trim()),'"')),ee.length>0&&e.push("colors:".concat(ee.join("")));let s=e.join(" ");console.log("Query constru\xedda:",s);let a=await (0,y.z)(s);if(!a.ok){if(404===a.status)eb([]),ef("Nenhuma carta encontrada com os filtros especificados");else throw Error("Erro na API: ".concat(a.status));return}let t=await a.json();eb(t.data||[]),t.data&&0===t.data.length&&ef("Nenhuma carta encontrada com os filtros especificados")}catch(e){console.error("Erro ao pesquisar cartas:",e),ef("Erro ao pesquisar cartas. Tente novamente."),eb([])}finally{eN(!1)}},eL=e=>{es(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])};(0,l.useEffect)(()=>{let e=setTimeout(()=>{f.trim()&&f.length>=3&&eV()},500);return()=>clearTimeout(e)},[f]);let eB=e=>e.charAt(0).toUpperCase()+e.slice(1),eF=e=>{switch(e.toLowerCase()){case"common":default:return"text-gray-400";case"uncommon":return"text-green-400";case"rare":return"text-yellow-400";case"mythic":return"text-orange-400"}},eI=l.lazy(()=>a.e(973).then(a.bind(a,3973)));return(0,t.jsxs)("div",{className:"quantum-compact",children:[(0,t.jsx)(l.Suspense,{fallback:(0,t.jsx)("div",{className:"mb-4 p-4 bg-blue-900/20 border border-blue-700/30 rounded-lg",children:"Carregando..."}),children:(0,t.jsx)(eI,{})}),eP.visible&&(0,t.jsx)("div",{className:"quantum-notification ".concat("success"===eP.type?"quantum-notification-success":"error"===eP.type?"quantum-notification-error":"quantum-notification-info"),children:eP.message}),(0,t.jsx)("div",{className:"quantum-card-dense mb-2",children:(0,t.jsx)("div",{className:"p-2",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(r.p,{type:"text",placeholder:"Busca r\xe1pida de cartas...",value:ey,onChange:e=>{ew(e.target.value),eq(e.target.value.length>0)},onKeyPress:e=>{"Enter"===e.key&&eE(ey)},className:"quantum-field"}),(0,t.jsx)(h.A,{className:"absolute right-2 top-2 w-4 h-4 text-gray-400"}),eA&&ey.length>0&&(0,t.jsx)("div",{className:"absolute top-full mt-1 w-full rounded-sm bg-gray-900/90 backdrop-blur-sm shadow-md overflow-hidden border border-gray-700/50 z-10",children:eS.filter(e=>e.toLowerCase().includes(ey.toLowerCase())).slice(0,5).map((e,s)=>(0,t.jsx)("button",{onClick:()=>eE(e),className:"w-full text-left px-2 py-1 text-sm hover:bg-gray-800/80 transition-colors",children:e},s))})]})})}),(0,t.jsxs)("div",{className:"quantum-tabs mb-2",children:[(0,t.jsxs)("button",{onClick:()=>{v("pesquisa"),w(""),ef(null),eb([])},className:"quantum-tab ".concat("pesquisa"===p?"quantum-tab-active":""),children:[(0,t.jsx)(h.A,{className:"w-3 h-3 mr-1"}),"Pesquisa"]}),(0,t.jsxs)("button",{onClick:()=>{v("colecao"),w("")},className:"quantum-tab ".concat("colecao"===p?"quantum-tab-active":""),children:[(0,t.jsx)(O.A,{className:"w-3 h-3 mr-1"}),"Cole\xe7\xe3o (",u.cards.length,")"]}),(0,t.jsxs)("button",{onClick:()=>v("estatisticas"),className:"quantum-tab ".concat("estatisticas"===p?"quantum-tab-active":""),children:[(0,t.jsx)(G.A,{className:"w-3 h-3 mr-1"}),"Estat\xedsticas"]})]}),"pesquisa"===p&&(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-2",children:[(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)("div",{className:"quantum-card-dense p-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)($.A,{className:"w-3 h-3 text-cyan-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"Filtros"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"Nome"}),(0,t.jsx)(r.p,{type:"text",placeholder:"Ex: Lightning Bolt",value:f,onChange:e=>w(e.target.value),onKeyPress:e=>{"Enter"===e.key&&eV()},className:"quantum-field-sm"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"Raridade"}),(0,t.jsxs)(n.l6,{value:C,onValueChange:k,children:[(0,t.jsx)(n.bq,{className:"quantum-field-sm h-7",children:(0,t.jsx)(n.yv,{})}),(0,t.jsx)(n.gC,{className:"bg-gray-900 border-gray-700",children:W.map(e=>(0,t.jsx)(n.eb,{value:e,children:"all"===e?"Todas":eB(e)},e))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"Tipo"}),(0,t.jsxs)(n.l6,{value:A,onValueChange:q,children:[(0,t.jsx)(n.bq,{className:"quantum-field-sm h-7",children:(0,t.jsx)(n.yv,{})}),(0,t.jsx)(n.gC,{className:"bg-gray-900 border-gray-700",children:J.map(e=>(0,t.jsx)(n.eb,{value:e,children:"all"===e?"Todos":eB(e)},e))})]})]})]}),(0,t.jsxs)(c.$,{variant:"outline",onClick:()=>et(!ea),className:"quantum-btn w-full text-xs h-7",size:"sm",children:[(0,t.jsx)(V.A,{className:"w-3 h-3 mr-1"}),ea?"Ocultar":"Mais"," Filtros"]}),ea&&(0,t.jsxs)("div",{className:"space-y-2 pt-2 border-t border-gray-800",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"Subtipo"}),(0,t.jsxs)(n.l6,{value:S,onValueChange:D,children:[(0,t.jsx)(n.bq,{className:"quantum-field-sm h-7",children:(0,t.jsx)(n.yv,{})}),(0,t.jsx)(n.gC,{className:"bg-gray-900 border-gray-700",children:Q.map(e=>(0,t.jsx)(n.eb,{value:e,children:"all"===e?"Todos":eB(e)},e))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"CMC"}),(0,t.jsx)(r.p,{type:"number",placeholder:"Ex: 3",value:M,onChange:e=>R(e.target.value),className:"quantum-field-sm h-7"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"Supertipo"}),(0,t.jsxs)(n.l6,{value:T,onValueChange:z,children:[(0,t.jsx)(n.bq,{className:"quantum-field-sm h-7",children:(0,t.jsx)(n.yv,{})}),(0,t.jsx)(n.gC,{className:"bg-gray-900 border-gray-700",children:K.map(e=>(0,t.jsx)(n.eb,{value:e,children:"all"===e?"Todos":eB(e)},e))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"Foil"}),(0,t.jsxs)(n.l6,{value:L,onValueChange:B,children:[(0,t.jsx)(n.bq,{className:"quantum-field-sm h-7",children:(0,t.jsx)(n.yv,{})}),(0,t.jsx)(n.gC,{className:"bg-gray-900 border-gray-700",children:Y.map(e=>(0,t.jsx)(n.eb,{value:e,children:"all"===e?"Todas":"foil"===e?"Foil":"Normal"},e))})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"Texto Oracle"}),(0,t.jsx)(i.T,{placeholder:"Ex: exile target creature",value:F,onChange:e=>I(e.target.value),className:"quantum-field-sm",rows:2})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"quantum-label",children:"Cores"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:X.map(e=>(0,t.jsx)(c.$,{variant:ee.includes(e)?"default":"outline",onClick:()=>eL(e),className:"w-6 h-6 p-0 text-xs ".concat(ee.includes(e)?"W"===e?"bg-yellow-200 text-gray-900":"U"===e?"bg-blue-500":"B"===e?"bg-gray-900 text-white border-gray-600":"R"===e?"bg-red-500":"G"===e?"bg-green-500":"bg-gray-400":"border-gray-600 text-gray-300"),children:e},e))})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,t.jsxs)(c.$,{onClick:eV,disabled:ep,className:"quantum-btn flex-1 compact primary",size:"sm",children:[ep?(0,t.jsx)(U.A,{className:"w-3 h-3 mr-1 animate-spin"}):(0,t.jsx)(h.A,{className:"w-3 h-3 mr-1"}),"Buscar"]}),(0,t.jsx)(c.$,{variant:"outline",onClick:()=>{w(""),k("all"),q("all"),D("all"),z("all"),R(""),B("all"),I(""),es([]),eb([]),ef(null)},className:"quantum-btn",size:"sm",children:(0,t.jsx)(H.A,{className:"w-3 h-3"})})]}),(0,t.jsxs)("div",{className:"flex items-center pt-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"mostrarCartasNaColecao",checked:el,onChange:e=>er(e.target.checked),className:"mr-1 h-3 w-3"}),(0,t.jsx)("label",{htmlFor:"mostrarCartasNaColecao",className:"text-xs text-gray-400",children:"Destacar cartas na cole\xe7\xe3o"})]})]})]})}),(0,t.jsx)("div",{className:"lg:col-span-3",children:(0,t.jsx)("div",{className:"quantum-card-dense p-2",children:ev?(0,t.jsxs)("div",{className:"text-center py-4",children:[(0,t.jsx)(g.A,{className:"w-8 h-8 mx-auto mb-2 text-red-500"}),(0,t.jsx)("p",{className:"text-red-400 text-sm",children:ev}),(0,t.jsxs)(c.$,{onClick:eV,variant:"outline",className:"quantum-btn mt-2",children:[(0,t.jsx)(U.A,{className:"w-3 h-3 mr-1"}),"Tentar Novamente"]})]}):ep?(0,t.jsxs)("div",{className:"text-center py-4",children:[(0,t.jsx)(U.A,{className:"w-8 h-8 mx-auto mb-2 text-blue-500 animate-spin"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Pesquisando cartas..."})]}):ej.length>0?(0,t.jsx)(E,{cards:ej,collection:u.cards,onAddCard:j}):(0,t.jsxs)("div",{className:"text-center py-4",children:[(0,t.jsx)(h.A,{className:"w-8 h-8 mx-auto mb-2 text-gray-500"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white mb-1",children:"Pesquise por cartas"}),(0,t.jsx)("p",{className:"text-gray-400 text-xs mb-3",children:"Use os filtros ao lado para encontrar cartas espec\xedficas"}),(0,t.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,t.jsx)(c.$,{onClick:()=>w("Lightning Bolt"),className:"quantum-btn text-xs h-7",children:"Lightning Bolt"}),(0,t.jsx)(c.$,{onClick:()=>k("mythic"),className:"quantum-btn text-xs h-7",children:"Cartas M\xedticas"})]})]})})})]}),"colecao"===p&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("div",{children:(0,t.jsx)("h2",{className:"quantum-title",children:"Minha Cole\xe7\xe3o"})}),(0,t.jsxs)(c.$,{onClick:()=>x(u),className:"quantum-btn compact",size:"sm",children:[(0,t.jsx)(Z.A,{className:"w-3 h-3 mr-1"}),"Exportar"]})]}),(0,t.jsx)("div",{className:"quantum-card-dense p-2 mb-2",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2",children:[(0,t.jsx)(r.p,{placeholder:"Buscar na cole\xe7\xe3o...",value:eu,onChange:e=>eg(e.target.value),className:"quantum-field-sm h-7"}),(0,t.jsxs)(n.l6,{value:eo,onValueChange:em,children:[(0,t.jsx)(n.bq,{className:"quantum-field-sm h-7",children:(0,t.jsx)(n.yv,{placeholder:"Raridade"})}),(0,t.jsxs)(n.gC,{className:"bg-gray-900 border-gray-700",children:[(0,t.jsx)(n.eb,{value:"all",children:"Todas"}),(0,t.jsx)(n.eb,{value:"common",children:"Comum"}),(0,t.jsx)(n.eb,{value:"uncommon",children:"Incomum"}),(0,t.jsx)(n.eb,{value:"rare",children:"Rara"}),(0,t.jsx)(n.eb,{value:"mythic",children:"M\xedtica"})]})]}),(0,t.jsxs)(n.l6,{value:ex,onValueChange:eh,children:[(0,t.jsx)(n.bq,{className:"quantum-field-sm h-7",children:(0,t.jsx)(n.yv,{placeholder:"Cor"})}),(0,t.jsxs)(n.gC,{className:"bg-gray-900 border-gray-700",children:[(0,t.jsx)(n.eb,{value:"all",children:"Todas"}),(0,t.jsx)(n.eb,{value:"W",children:"Branco"}),(0,t.jsx)(n.eb,{value:"U",children:"Azul"}),(0,t.jsx)(n.eb,{value:"B",children:"Preto"}),(0,t.jsx)(n.eb,{value:"R",children:"Vermelho"}),(0,t.jsx)(n.eb,{value:"G",children:"Verde"}),(0,t.jsx)(n.eb,{value:"colorless",children:"Incolor"})]})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsxs)(c.$,{variant:"outline",onClick:()=>eR("name"),className:"quantum-btn compact flex-1",size:"sm",children:["Nome ","name"===ec&&("asc"===ei?"↑":"↓")]}),(0,t.jsxs)(c.$,{variant:"outline",onClick:()=>eR("rarity"),className:"quantum-btn compact flex-1",size:"sm",children:["Raridade ","rarity"===ec&&("asc"===ei?"↑":"↓")]})]})]})}),(0,t.jsx)("div",{className:"quantum-card-dense p-2",children:0===eM.length?(0,t.jsxs)("div",{className:"text-center py-4",children:[(0,t.jsx)(O.A,{className:"w-8 h-8 mx-auto mb-2 text-gray-500"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white mb-1",children:"Cole\xe7\xe3o vazia"}),(0,t.jsx)("p",{className:"text-gray-400 text-xs mb-3",children:'Adicione cartas \xe0 sua cole\xe7\xe3o pesquisando na aba "Pesquisar"'}),(0,t.jsxs)(c.$,{onClick:()=>v("pesquisa"),className:"quantum-btn primary",children:[(0,t.jsx)(h.A,{className:"w-3 h-3 mr-1"}),"Pesquisar Cartas"]})]}):(0,t.jsx)(_,{collectionCards:eM,onAddCard:j,onRemoveCard:b})})]}),"estatisticas"===p&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"quantum-grid-3",children:[(0,t.jsxs)("div",{className:"quantum-card-dense p-3 text-center",children:[(0,t.jsx)(O.A,{className:"w-5 h-5 mx-auto mb-1 text-blue-400"}),(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:u.cards.length}),(0,t.jsx)("p",{className:"text-gray-400 text-xs",children:"Cartas \xfanicas"})]}),(0,t.jsxs)("div",{className:"quantum-card-dense p-3 text-center",children:[(0,t.jsx)(N.A,{className:"w-5 h-5 mx-auto mb-1 text-green-400"}),(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:u.cards.reduce((e,s)=>e+s.quantity,0)}),(0,t.jsx)("p",{className:"text-gray-400 text-xs",children:"Total de cartas"})]}),(0,t.jsxs)("div",{className:"quantum-card-dense p-3 text-center",children:[(0,t.jsx)(G.A,{className:"w-5 h-5 mx-auto mb-1 text-yellow-400"}),(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:new Set(u.cards.map(e=>e.card.set_code)).size}),(0,t.jsx)("p",{className:"text-gray-400 text-xs",children:"Cole\xe7\xf5es diferentes"})]})]}),(0,t.jsxs)("div",{className:"quantum-card-dense p-3",children:[(0,t.jsx)("h3",{className:"quantum-card-title text-sm font-medium mb-2",children:"Distribui\xe7\xe3o por Raridade"}),(0,t.jsx)("div",{className:"space-y-2",children:["common","uncommon","rare","mythic"].map(e=>{let s=u.cards.filter(s=>s.card.rarity===e).length,a=u.cards.length>0?(s/u.cards.length*100).toFixed(1):"0";return(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-xs font-medium ".concat(eF(e)),children:eB(e)}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"w-24 bg-gray-700 rounded-full h-1.5",children:(0,t.jsx)("div",{className:"h-1.5 rounded-full ".concat("common"===e?"bg-gray-400":"uncommon"===e?"bg-green-400":"rare"===e?"bg-yellow-400":"bg-orange-400"),style:{width:"".concat(a,"%")}})}),(0,t.jsx)("span",{className:"text-gray-300 text-xs w-6 text-right",children:s}),(0,t.jsxs)("span",{className:"text-gray-500 text-xs w-10 text-right",children:["(",a,"%)"]})]})]},e)})})]}),(0,t.jsxs)("div",{className:"quantum-card-dense p-3",children:[(0,t.jsx)("h3",{className:"quantum-card-title text-sm font-medium mb-2",children:"Top 5 Cole\xe7\xf5es"}),(0,t.jsx)("div",{className:"space-y-1",children:Object.entries(u.cards.reduce((e,s)=>{let a=s.card.set_name;return e[a]=(e[a]||0)+1,e},{})).sort((e,s)=>{let[,a]=e,[,t]=s;return t-a}).slice(0,5).map((e,s)=>{let[a,l]=e;return(0,t.jsxs)("div",{className:"flex justify-between items-center py-0.5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsxs)("span",{className:"text-gray-500 text-xs w-4",children:[s+1,"."]}),(0,t.jsx)("span",{className:"text-white text-xs",children:a})]}),(0,t.jsx)("span",{className:"quantum-microtag",children:l})]},a)})})]})]})]})}var es=a(5863),ea=a(3999);let et=l.forwardRef((e,s)=>{let{className:a,value:l,...r}=e;return(0,t.jsx)(es.bL,{ref:s,className:(0,ea.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...r,children:(0,t.jsx)(es.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(l||0),"%)")}})})});et.displayName=es.bL.displayName;var el=a(6785),er=a(8186),ec=a(9037),en=a(2713),ei=a(7580),ed=a(3109),eo=a(9074),em=a(1976),ex=a(9397),eh=a(4186),eu=a(9881),eg=a(3311),ej=a(5868),eb=a(1539),ep=a(2657),eN=a(4355);function ev(){let[e]=(0,l.useState)({totalCards:1247,uniqueCards:892,totalDecks:8,favoriteColors:["Azul","Preto"],recentActivity:15,collectionValue:1850.75,weeklyGoal:65,weeklyProgress:42,monthlyGrowth:12.5,avgCardValue:2.08}),[s]=(0,l.useState)([{name:"Colecionador Iniciante",description:"Possua 100 cartas \xfanicas",progress:100,icon:G.A,rarity:"common",unlockedAt:"2024-01-15"},{name:"Construtor de Decks",description:"Crie 5 decks diferentes",progress:80,icon:el.A,rarity:"uncommon",unlockedAt:null},{name:"Explorador de Cores",description:"Tenha cartas de todas as 5 cores",progress:100,icon:er.A,rarity:"rare",unlockedAt:"2024-02-03"},{name:"Veterano MTG",description:"Possua cartas de 10 expans\xf5es diferentes",progress:75,icon:ec.A,rarity:"mythic",unlockedAt:null}]),[a]=(0,l.useState)([{name:"Lightning Bolt",set:"2XM",rarity:"common",addedAt:"2h",value:.25,quantity:4},{name:"Counterspell",set:"TSR",rarity:"common",addedAt:"5h",value:.5,quantity:2},{name:"Serra Angel",set:"M21",rarity:"uncommon",addedAt:"1d",value:1.2,quantity:1},{name:"Black Lotus",set:"LEA",rarity:"rare",addedAt:"2d",value:8500,quantity:1}]),[r]=(0,l.useState)([{color:"Azul",percentage:28,count:249,bgColor:"from-blue-500 to-blue-600"},{color:"Preto",percentage:24,count:214,bgColor:"from-gray-700 to-gray-900"},{color:"Vermelho",percentage:20,count:178,bgColor:"from-red-500 to-red-600"},{color:"Verde",percentage:16,count:143,bgColor:"from-green-500 to-green-600"},{color:"Branco",percentage:12,count:107,bgColor:"from-gray-200 to-gray-400"}]),[c]=(0,l.useState)([{label:"Add Carta",icon:z.A,action:"add-card",color:"blue"},{label:"Relat\xf3rios",icon:en.A,action:"reports",color:"purple"},{label:"Comunidade",icon:ei.A,action:"community",color:"green"},{label:"An\xe1lises",icon:ed.A,action:"analytics",color:"yellow"},{label:"Eventos",icon:eo.A,action:"events",color:"red"},{label:"Favoritos",icon:em.A,action:"favorites",color:"pink"}]);return(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("div",{className:"quantum-card-dense p-4 mb-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ex.A,{className:"w-5 h-5 text-blue-400"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Dashboard"}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-400 ml-auto",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-green-400 rounded-full"}),(0,t.jsx)("span",{children:"Sincronizado"}),(0,t.jsx)(eh.A,{className:"w-3 h-3 ml-2"}),(0,t.jsx)("span",{children:"2min"})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 mb-4",children:[(0,t.jsxs)("div",{className:"quantum-card-dense p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-md bg-blue-500/20 flex items-center justify-center",children:(0,t.jsx)(en.A,{className:"w-3.5 h-3.5 text-blue-400"})}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"Total de Cartas"})]}),(0,t.jsx)(eu.A,{className:"w-3 h-3 text-green-400"})]}),(0,t.jsxs)("div",{className:"flex items-end justify-between",children:[(0,t.jsx)("span",{className:"text-lg font-bold text-white",children:e.totalCards.toLocaleString()}),(0,t.jsxs)("span",{className:"text-xs text-green-400",children:["+",e.monthlyGrowth,"%"]})]})]}),(0,t.jsxs)("div",{className:"quantum-card-dense p-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-md bg-purple-500/20 flex items-center justify-center",children:(0,t.jsx)(eg.A,{className:"w-3.5 h-3.5 text-purple-400"})}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"Cartas \xdanicas"})]})}),(0,t.jsxs)("div",{className:"flex items-end justify-between",children:[(0,t.jsx)("span",{className:"text-lg font-bold text-white",children:e.uniqueCards.toLocaleString()}),(0,t.jsxs)("span",{className:"text-xs text-gray-400",children:[(e.uniqueCards/e.totalCards*100).toFixed(0),"%"]})]})]}),(0,t.jsxs)("div",{className:"quantum-card-dense p-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-md bg-green-500/20 flex items-center justify-center",children:(0,t.jsx)(el.A,{className:"w-3.5 h-3.5 text-green-400"})}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"Decks Ativos"})]})}),(0,t.jsxs)("div",{className:"flex items-end justify-between",children:[(0,t.jsx)("span",{className:"text-lg font-bold text-white",children:e.totalDecks}),(0,t.jsx)("span",{className:"text-xs text-green-400",children:"2 comp."})]})]}),(0,t.jsxs)("div",{className:"quantum-card-dense p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-md bg-yellow-500/20 flex items-center justify-center",children:(0,t.jsx)(ej.A,{className:"w-3.5 h-3.5 text-yellow-400"})}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"Valor Estimado"})]}),(0,t.jsx)(ed.A,{className:"w-3 h-3 text-yellow-400"})]}),(0,t.jsxs)("div",{className:"flex items-end justify-between",children:[(0,t.jsxs)("span",{className:"text-lg font-bold text-white",children:["R$ ",e.collectionValue.toLocaleString("pt-BR",{minimumFractionDigits:0,maximumFractionDigits:0})]}),(0,t.jsxs)("span",{className:"text-xs text-yellow-400",children:["~R$",e.avgCardValue.toFixed(2),"/un"]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 mb-4",children:[(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsx)("div",{className:"p-3 border-b border-gray-800",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(eb.A,{className:"w-4 h-4 text-blue-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"Meta Semanal"})]}),(0,t.jsxs)("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[(0,t.jsx)(eh.A,{className:"w-3 h-3"}),"4d restantes"]})]})}),(0,t.jsxs)("div",{className:"p-3 space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center text-xs",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Progresso"}),(0,t.jsxs)("span",{className:"text-white font-medium",children:[e.weeklyProgress,"/",e.weeklyGoal," cartas"]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(et,{value:e.weeklyProgress/e.weeklyGoal*100,className:"h-1.5 bg-gray-800"}),(0,t.jsxs)("div",{className:"flex justify-between text-[10px] text-gray-500",children:[(0,t.jsx)("span",{children:"0"}),(0,t.jsxs)("span",{className:"font-medium text-blue-400",children:[Math.round(e.weeklyProgress/e.weeklyGoal*100),"%"]}),(0,t.jsx)("span",{children:e.weeklyGoal})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between bg-blue-900/20 p-2 rounded-md border border-blue-900/30",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] text-blue-400",children:"Faltam apenas"}),(0,t.jsxs)("p",{className:"text-sm font-bold text-white",children:[e.weeklyGoal-e.weeklyProgress," cartas"]})]}),(0,t.jsx)(er.A,{className:"w-6 h-6 text-yellow-400"})]})]})]}),(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsx)("div",{className:"p-3 border-b border-gray-800",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(ec.A,{className:"w-4 h-4 text-yellow-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"Conquistas"})]}),(0,t.jsxs)("span",{className:"text-xs bg-green-900/30 text-green-400 px-1.5 py-0.5 rounded text-[10px]",children:[s.filter(e=>100===e.progress).length," desbloqueadas"]})]})}),(0,t.jsx)("div",{className:"p-2",children:s.slice(0,3).map((e,s)=>{let a=e.icon,l=100===e.progress;return(0,t.jsx)("div",{className:"p-2 hover:bg-gray-800/50 rounded-sm transition-colors",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-md flex items-center justify-center \n                      ".concat(l?"bg-yellow-500/20 text-yellow-400":"bg-gray-700/30 text-gray-500"),children:(0,t.jsx)(a,{className:"w-3.5 h-3.5"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:"text-xs font-medium truncate\n                          ".concat(l?"text-white":"text-gray-400"),children:e.name}),(0,t.jsx)(m.E,{className:"h-4 text-[8px] px-1 ml-1 \n                          ".concat("mythic"===e.rarity?"bg-red-900/30 text-red-400 hover:bg-red-900/40":"rare"===e.rarity?"bg-yellow-900/30 text-yellow-400 hover:bg-yellow-900/40":"uncommon"===e.rarity?"bg-blue-900/30 text-blue-400 hover:bg-blue-900/40":"bg-green-900/30 text-green-400 hover:bg-green-900/40"),children:e.rarity})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("div",{className:"flex-1 bg-gray-800/70 rounded-full h-1",children:(0,t.jsx)("div",{className:"h-1 rounded-full transition-all \n                              ".concat(l?"bg-yellow-500/80":"bg-blue-500/70"),style:{width:"".concat(e.progress,"%")}})}),(0,t.jsxs)("span",{className:"text-[10px] text-gray-500 font-medium",children:[e.progress,"%"]})]})]})]})},s)})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3 mb-4",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 quantum-card-dense",children:[(0,t.jsx)("div",{className:"p-3 border-b border-gray-800",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(eh.A,{className:"w-4 h-4 text-blue-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"Adi\xe7\xf5es Recentes"})]}),(0,t.jsxs)("button",{className:"text-xs text-gray-400 hover:text-cyan-400 flex items-center gap-1 transition-colors",children:[(0,t.jsx)(ep.A,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:"Ver todas"})]})]})}),(0,t.jsx)("div",{className:"divide-y divide-gray-800/50",children:a.map((e,s)=>(0,t.jsxs)("div",{className:"p-2 hover:bg-gray-800/30 transition-colors flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-md bg-blue-500/20 flex items-center justify-center text-blue-400 font-semibold text-xs flex-shrink-0",children:e.name.charAt(0)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("h4",{className:"text-xs font-medium text-white truncate",children:e.name}),(0,t.jsx)(m.E,{className:"h-4 text-[8px] px-1 bg-gray-700 text-gray-300 hover:bg-gray-600",children:e.set})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-[10px]",children:[(0,t.jsx)(m.E,{className:"h-3.5 text-[8px] px-1\n                        ".concat("rare"===e.rarity?"bg-yellow-900/30 text-yellow-400 hover:bg-yellow-900/40":"uncommon"===e.rarity?"bg-blue-900/30 text-blue-400 hover:bg-blue-900/40":"bg-green-900/30 text-green-400 hover:bg-green-900/40"),children:e.rarity}),(0,t.jsxs)("span",{className:"text-gray-500",children:[e.quantity,"x"]}),(0,t.jsxs)("span",{className:"text-green-400",children:["R$ ",e.value.toFixed(2)]})]})]})]}),(0,t.jsx)("div",{className:"text-right flex-shrink-0",children:(0,t.jsx)("p",{className:"text-[10px] text-gray-500",children:e.addedAt})})]},s))})]}),(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsx)("div",{className:"p-3 border-b border-gray-800",children:(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(eN.A,{className:"w-4 h-4 text-purple-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"Distribui\xe7\xe3o"})]})}),(0,t.jsx)("div",{className:"p-3 space-y-2",children:r.map((e,s)=>(0,t.jsxs)("div",{className:"group",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1 text-xs",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-gradient-to-r ".concat(e.bgColor)}),(0,t.jsx)("span",{className:"text-gray-300",children:e.color})]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsxs)("span",{className:"font-medium text-white",children:[e.percentage,"%"]})})]}),(0,t.jsx)("div",{className:"w-full bg-gray-800/70 rounded-full h-1.5",children:(0,t.jsx)("div",{className:"h-1.5 rounded-full bg-gradient-to-r ".concat(e.bgColor," transition-all duration-300"),style:{width:"".concat(e.percentage,"%")}})}),(0,t.jsxs)("div",{className:"text-[10px] text-gray-500 text-right mt-0.5",children:[e.count," cartas"]})]},s))})]})]}),(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsx)("div",{className:"p-3 border-b border-gray-800",children:(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(eb.A,{className:"w-4 h-4 text-cyan-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"A\xe7\xf5es R\xe1pidas"})]})}),(0,t.jsx)("div",{className:"p-3",children:(0,t.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-2",children:c.map((e,s)=>{let a=e.icon;return(0,t.jsxs)("button",{className:"p-2 rounded-md transition-all flex flex-col items-center ".concat({blue:"bg-blue-500/20 text-blue-400 hover:bg-blue-500/30",purple:"bg-purple-500/20 text-purple-400 hover:bg-purple-500/30",green:"bg-green-500/20 text-green-400 hover:bg-green-500/30",yellow:"bg-yellow-500/20 text-yellow-400 hover:bg-yellow-500/30",red:"bg-red-500/20 text-red-400 hover:bg-red-500/30",pink:"bg-pink-500/20 text-pink-400 hover:bg-pink-500/30"}[e.color]),children:[(0,t.jsx)(a,{className:"w-4 h-4 mb-1"}),(0,t.jsx)("span",{className:"text-[10px] font-medium",children:e.label})]},s)})})})]})]})}var ef=a(9840),ey=a(9869),ew=a(7434),eC=a(646);let ek=e=>{let{onImportSuccess:s,onImportError:a,className:d=""}=e,{importarDeckDeLista:x}=(0,o.U)(),[h,j]=(0,l.useState)(!1),[b,p]=(0,l.useState)(!1),[v,f]=(0,l.useState)({type:null,message:""}),[y,w]=(0,l.useState)({name:"",format:"Standard",description:"",isPublic:!1,tags:[],colors:[]}),[C,k]=(0,l.useState)(""),A=async()=>{if(!y.name.trim()||!C.trim()){f({type:"error",message:"Nome do deck e lista de cartas s\xe3o obrigat\xf3rios"});return}p(!0),f({type:null,message:""});try{await x(C,y),f({type:"success",message:'Deck "'.concat(y.name,'" importado com sucesso!')}),w({name:"",format:"Standard",description:"",isPublic:!1,tags:[],colors:[]}),k(""),s&&s(""),setTimeout(()=>{j(!1),f({type:null,message:""})},2e3)}catch(s){let e=s instanceof Error?s.message:"Erro desconhecido ao importar deck";f({type:"error",message:e}),a&&a(e)}finally{p(!1)}},q=(()=>{if(!C.trim())return{mainboard:0,sideboard:0,commander:0};let e=C.split("\n").filter(e=>e.trim()),s="mainboard",a={mainboard:0,sideboard:0,commander:0};return e.forEach(e=>{let t=e.trim().toLowerCase();if(t.includes("sideboard")){s="sideboard";return}if(t.includes("commander")){s="commander";return}let l=e.match(/^(\d+)x?\s+(.+)$/);if(l){let e=parseInt(l[1]);a[s]+=e}}),a})();return(0,t.jsxs)(ef.lG,{open:h,onOpenChange:j,children:[(0,t.jsx)(ef.zM,{asChild:!0,children:(0,t.jsxs)(c.$,{variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700 ".concat(d),children:[(0,t.jsx)(ey.A,{className:"w-4 h-4 mr-2"}),"Importar Deck"]})}),(0,t.jsxs)(ef.Cf,{className:"rounded-lg text-card-foreground bg-gray-800/80 backdrop-blur-xl shadow-2xl overflow-hidden border-0 max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)(ef.c7,{children:(0,t.jsxs)(ef.L3,{className:"text-white flex items-center gap-2",children:[(0,t.jsx)(ew.A,{className:"w-5 h-5"}),"Importar Lista de Deck"]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(D.Zp,{className:"bg-gray-700/50 border-gray-600",children:[(0,t.jsx)(D.aR,{className:"pb-3",children:(0,t.jsx)(D.ZB,{className:"text-white text-sm",children:"Informa\xe7\xf5es do Deck"})}),(0,t.jsxs)(D.Wu,{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Nome do Deck *"}),(0,t.jsx)(r.p,{value:y.name,onChange:e=>w(s=>({...s,name:e.target.value})),placeholder:"Ex: Burn Vermelho",className:"bg-gray-700/50 border-gray-600 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Formato"}),(0,t.jsxs)(n.l6,{value:y.format,onValueChange:e=>w(s=>({...s,format:e})),children:[(0,t.jsx)(n.bq,{className:"bg-gray-700/50 border-gray-600 text-white",children:(0,t.jsx)(n.yv,{})}),(0,t.jsx)(n.gC,{children:["Standard","Pioneer","Modern","Legacy","Vintage","Commander","Historic","Pauper","Brawl","Casual"].map(e=>(0,t.jsx)(n.eb,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Descri\xe7\xe3o (opcional)"}),(0,t.jsx)(i.T,{value:y.description,onChange:e=>w(s=>({...s,description:e.target.value})),placeholder:"Descri\xe7\xe3o do deck...",rows:3,className:"bg-gray-700/50 border-gray-600 text-white"})]})]})]}),C.trim()&&(0,t.jsxs)(D.Zp,{className:"bg-gray-700/50 border-gray-600",children:[(0,t.jsx)(D.aR,{className:"pb-3",children:(0,t.jsx)(D.ZB,{className:"text-white text-sm",children:"Preview"})}),(0,t.jsx)(D.Wu,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[q.mainboard>0&&(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-gray-300",children:"Deck Principal:"}),(0,t.jsxs)(m.E,{variant:"outline",children:[q.mainboard," cartas"]})]}),q.sideboard>0&&(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-gray-300",children:"Sideboard:"}),(0,t.jsxs)(m.E,{variant:"outline",children:[q.sideboard," cartas"]})]}),q.commander>0&&(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-gray-300",children:"Commander:"}),(0,t.jsxs)(m.E,{variant:"outline",children:[q.commander," cartas"]})]}),(0,t.jsx)("div",{className:"pt-2 border-t border-gray-600",children:(0,t.jsxs)("div",{className:"flex justify-between items-center font-medium",children:[(0,t.jsx)("span",{className:"text-white",children:"Total:"}),(0,t.jsxs)(m.E,{children:[q.mainboard+q.sideboard+q.commander," cartas"]})]})})]})})]})]}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)(D.Zp,{className:"bg-gray-700/50 border-gray-600",children:[(0,t.jsx)(D.aR,{className:"pb-3",children:(0,t.jsx)(D.ZB,{className:"text-white text-sm",children:"Lista de Cartas *"})}),(0,t.jsxs)(D.Wu,{className:"space-y-3",children:[(0,t.jsx)(i.T,{value:C,onChange:e=>k(e.target.value),placeholder:"Cole sua lista de deck aqui...\n\nExemplo:\n".concat("4 Lightning Bolt\n4 Monastery Swiftspear\n4 Lava Spike\n3 Rift Bolt\n4 Mountain\n3 Ramunap Ruins\n\nSideboard:\n2 Smash to Smithereens\n3 Kor Firewalker\n2 Deflecting Palm"),rows:12,className:"bg-gray-700/50 border-gray-600 text-white font-mono text-sm"}),(0,t.jsxs)("div",{className:"text-xs text-gray-400",children:[(0,t.jsx)("p",{className:"mb-1",children:"Formato aceito:"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,t.jsx)("li",{children:'Quantidade seguida do nome: "4 Lightning Bolt"'}),(0,t.jsx)("li",{children:"Com 'x': \"4x Lightning Bolt\""}),(0,t.jsx)("li",{children:'Se\xe7\xf5es: "Sideboard:" ou "Commander:"'}),(0,t.jsx)("li",{children:"Uma carta por linha"})]})]})]})]})})]}),v.type&&(0,t.jsxs)("div",{className:"p-3 rounded-lg border flex items-center gap-2 ".concat("success"===v.type?"bg-green-900/20 border-green-600 text-green-300":"bg-red-900/20 border-red-600 text-red-300"),children:["success"===v.type?(0,t.jsx)(eC.A,{className:"w-4 h-4"}):(0,t.jsx)(g.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm",children:v.message})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 pt-4 border-t border-gray-600",children:[(0,t.jsx)(c.$,{variant:"outline",onClick:()=>j(!1),disabled:b,className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancelar"}),(0,t.jsx)(c.$,{onClick:A,disabled:!y.name.trim()||!C.trim()||b,className:"bg-blue-600 hover:bg-blue-700",children:b?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Importando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.A,{className:"w-4 h-4 mr-2"}),"Importar Deck"]})}),(0,t.jsx)(c.$,{onClick:A,disabled:!y.name.trim()||!C.trim()||b,className:"bg-blue-600 hover:bg-blue-700",children:b?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Importando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.A,{className:"w-4 h-4 mr-2"}),"Importar Deck"]})})]})]})]})};var eA=a(4229),eq=a(4416);let eS=e=>{let{searchTerm:s,raridade:a,tipo:r,onAddCard:c,currentDeck:n,currentCollection:i}=e,[d,o]=(0,l.useState)(null),[m,x]=(0,l.useState)(new Set),h=async(e,s,a)=>{try{o(e.id),await c(e,s,a),x(s=>new Set(s.add(e.id))),setTimeout(()=>{x(s=>{let a=new Set(s);return a.delete(e.id),a})},2e3)}catch(e){console.error("Erro ao adicionar carta:",e)}finally{o(null)}},u=(0,l.useMemo)(()=>{let e=i.cards;return s.trim()&&(e=e.filter(e=>(0,P.S)(e.card,s))),"all"!==a&&(e=e.filter(e=>e.card.rarity===a)),"all"!==r&&(e=e.filter(e=>e.card.type_line.toLowerCase().includes(r))),e},[i.cards,s,a,r]);return 0===u.length?(0,t.jsxs)("div",{className:"mtg-card text-center py-12",children:[(0,t.jsx)(O.A,{className:"w-16 h-16 mx-auto mb-4 text-slate-500"}),(0,t.jsx)("h3",{className:"text-xl font-medium text-white mb-2",children:"Nenhuma carta encontrada"}),(0,t.jsx)("p",{className:"text-slate-400",children:s.trim()||"all"!==a||"all"!==r?"Tente ajustar os filtros":"Sua cole\xe7\xe3o est\xe1 vazia"})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:u.map(e=>{let s=e.card,a=n.cards.find(e=>e.card.id===s.id),l=m.has(s.id);return(0,t.jsx)("div",{className:"mtg-card-mini transition-all duration-200 ".concat(l?"border-green-500/70 shadow-lg shadow-green-500/20 scale-105":""),children:(0,t.jsx)("div",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:eE(s)&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(v.default,{src:eE(s),alt:s.name,width:60,height:84,className:"rounded-lg border border-slate-600"}),l&&(0,t.jsx)("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-green-500 rounded-full flex items-center justify-center",children:(0,t.jsx)(z.A,{className:"w-3 h-3 text-white"})})]})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h4",{className:"font-medium text-white text-sm truncate mb-1",title:s.name,children:s.name}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mb-1 truncate",title:s.set_name,children:s.set_name}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mb-3 line-clamp-2",title:s.type_line,children:s.type_line}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsxs)("span",{className:"mtg-badge mtg-badge-secondary text-xs",children:[e.quantity,"x cole\xe7\xe3o"]}),a&&(0,t.jsxs)("span",{className:"mtg-badge mtg-badge-success text-xs",children:[a.quantity,"x deck"]})]}),(0,t.jsxs)("div",{className:"flex gap-1 flex-wrap",children:[(0,t.jsxs)("button",{onClick:()=>h(s,"mainboard",1),disabled:d===s.id,className:"h-7 px-3 text-xs rounded-lg transition-all flex items-center gap-1 ".concat(m.has(s.id)?"bg-green-500 hover:bg-green-600 text-white shadow-md scale-105":"bg-green-600 hover:bg-green-700 text-white"),children:[d===s.id?(0,t.jsx)("div",{className:"w-3 h-3 border border-white border-t-transparent rounded-full animate-spin"}):(0,t.jsx)(z.A,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Principal"}),(0,t.jsx)("span",{className:"sm:hidden",children:"Main"})]}),(0,t.jsxs)("button",{onClick:()=>h(s,"sideboard",1),disabled:d===s.id,className:"h-7 px-3 text-xs rounded-lg transition-all flex items-center gap-1 ".concat(m.has(s.id)?"border-green-500 text-green-400 bg-green-900/20 shadow-md scale-105":"border-slate-600 text-slate-300 hover:bg-slate-700"," border"),children:[d===s.id?(0,t.jsx)("div",{className:"w-3 h-3 border border-current border-t-transparent rounded-full animate-spin"}):(0,t.jsx)(z.A,{className:"w-3 h-3"}),"Side"]}),"Commander"===n.format&&(0,t.jsxs)("button",{onClick:()=>h(s,"commander",1),disabled:d===s.id,className:"h-7 px-3 text-xs rounded-lg transition-all flex items-center gap-1 ".concat(m.has(s.id)?"border-yellow-400 text-yellow-300 bg-yellow-900/30 shadow-md scale-105":"border-yellow-600 text-yellow-400 hover:bg-yellow-900/20"," border"),children:[d===s.id?(0,t.jsx)("div",{className:"w-3 h-3 border border-current border-t-transparent rounded-full animate-spin"}):(0,t.jsx)(z.A,{className:"w-3 h-3"}),"Cmd"]})]})]})]})})},s.id)})})},eE=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"small";return(0,f.VG)(e,s)},eP=e=>{let{deckId:s,onSave:a,onCancel:c}=e,{decks:m,criarDeck:x,editarDeck:j,adicionarCartaAoDeck:b,removerCartaDoDeck:f,atualizarQuantidadeNoDeck:w,currentCollection:C}=(0,o.U)(),{openModal:k}=(0,d.h)(),A=s?m.find(e=>e.id===s):null,[q,S]=(0,l.useState)({name:(null==A?void 0:A.name)||"",format:(null==A?void 0:A.format)||"Standard",description:(null==A?void 0:A.description)||"",colors:(null==A?void 0:A.colors)||[],tags:(null==A?void 0:A.tags)||[],isPublic:(null==A?void 0:A.isPublic)||!1}),[P,D]=(0,l.useState)(""),[L,B]=(0,l.useState)("all"),[F,I]=(0,l.useState)("all"),[_,G]=(0,l.useState)(""),[H,Z]=(0,l.useState)([]),[W,J]=(0,l.useState)([]),[Q,K]=(0,l.useState)(!1),[Y,X]=(0,l.useState)(null),[ee,es]=(0,l.useState)("search"),[ea,et]=(0,l.useState)("all"),[er,ec]=(0,l.useState)("list"),en=A||{id:"temp",cards:[],...q,createdAt:"",lastModified:""},ei=(0,l.useMemo)(()=>"all"===ea?en.cards:en.cards.filter(e=>e.category===ea),[en.cards,ea]),ed=(0,l.useMemo)(()=>{let e=en.cards.filter(e=>"mainboard"===e.category),s=en.cards.filter(e=>"sideboard"===e.category),a=en.cards.filter(e=>"commander"===e.category),t=e.reduce((e,s)=>e+s.quantity,0),l=s.reduce((e,s)=>e+s.quantity,0),r=a.reduce((e,s)=>e+s.quantity,0);return{mainboard:t,sideboard:l,commander:r,total:t+l+r,unique:en.cards.length}},[en.cards]),eo=(0,l.useCallback)(async()=>{if(!P.trim()&&"all"===L&&"all"===F&&!_&&0===H.length){X("Por favor, defina pelo menos um filtro para pesquisar");return}K(!0),X(null);try{let e=[];if(P.trim()&&e.push(encodeURIComponent(P.trim())),"all"!==L&&e.push("rarity:".concat(L)),"all"!==F&&e.push("type:".concat(F)),_&&e.push("cmc:".concat(_)),H.length>0){let s=H.map(e=>"c:".concat(e)).join("");e.push(s)}let s=e.join("+"),a=await (0,y.z)(s),t=await a.json();a.ok&&t.data?(J(t.data),X(null)):(J([]),X(t.details||"Nenhuma carta encontrada"))}catch(e){console.error("Erro na pesquisa:",e),J([]),X("Erro ao pesquisar cartas. Verifique sua conex\xe3o.")}finally{K(!1)}},[P,L,F,_,H]),em=(0,l.useCallback)(function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mainboard",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;A?b(A.id,e,s,a):console.log("Adicionando carta ao deck tempor\xe1rio:",e.name)},[A,b]),ex=(0,l.useCallback)((e,s)=>{A&&f(A.id,e,s)},[A,f]),eh=(0,l.useCallback)((e,s,a)=>{A&&w(A.id,e,a,s)},[A,w]),eu=(0,l.useCallback)(()=>{if(!q.name.trim()){alert("Por favor, digite um nome para o deck");return}if(A)j(A.id,q),a&&a(A.id);else{let e=x({name:q.name,format:q.format,description:q.description,colors:q.colors,cards:[],isPublic:q.isPublic,tags:q.tags});a&&a(e)}},[q,A,j,x,a]),eg=(0,l.useCallback)(()=>{D(""),B("all"),I("all"),G(""),Z([]),J([]),X(null)},[]);return(0,t.jsxs)("div",{className:"mtg-section",children:[(0,t.jsxs)("div",{className:"mtg-card text-center mb-8",children:[(0,t.jsx)("div",{className:"mtg-card-header justify-center",children:(0,t.jsx)("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-600 to-purple-700 flex items-center justify-center mb-6 mx-auto shadow-xl",children:(0,t.jsx)(el.A,{className:"w-10 h-10 text-white"})})}),(0,t.jsx)("h1",{className:"mtg-section-title",children:A?"Editando: ".concat(A.name):"Deck Builder Pro"}),(0,t.jsx)("p",{className:"mtg-section-subtitle",children:A?"Fa\xe7a altera\xe7\xf5es no seu deck com ferramentas avan\xe7adas":"Crie e personalize seu deck com ferramentas profissionais"}),(0,t.jsx)("div",{className:"flex items-center justify-center gap-4 mt-6",children:(0,t.jsxs)("div",{className:"mtg-status mtg-status-info",children:[(0,t.jsx)(N.A,{className:"w-3 h-3"}),ed.total," cartas no deck"]})})]}),(0,t.jsx)("div",{className:"mtg-card mb-8",children:(0,t.jsxs)("div",{className:"mtg-card-header",children:[(0,t.jsx)(V.A,{className:"mtg-card-icon"}),(0,t.jsxs)("div",{className:"mtg-card-content flex-1",children:[(0,t.jsx)("h3",{className:"mtg-card-title",children:"A\xe7\xf5es do Deck"}),(0,t.jsx)("p",{className:"mtg-card-description",children:"Gerencie e configure seu deck"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(ek,{onImportSuccess:()=>{},onImportError:e=>console.error(e)}),(0,t.jsxs)("button",{onClick:eu,disabled:!q.name.trim(),className:"mtg-button mtg-button-primary",children:[(0,t.jsx)(eA.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:A?"Salvar Altera\xe7\xf5es":"Salvar Deck"})]}),c&&(0,t.jsx)("button",{onClick:c,className:"mtg-button mtg-button-secondary",children:"Cancelar"})]})]})}),(0,t.jsxs)("div",{className:"mtg-card mb-8",children:[(0,t.jsxs)("div",{className:"mtg-card-header",children:[(0,t.jsx)(p.A,{className:"mtg-card-icon"}),(0,t.jsxs)("div",{className:"mtg-card-content",children:[(0,t.jsx)("h3",{className:"mtg-card-title",children:"Configura\xe7\xf5es do Deck"}),(0,t.jsx)("p",{className:"mtg-card-description",children:"Defina as informa\xe7\xf5es b\xe1sicas do seu deck"})]})]}),(0,t.jsxs)("div",{className:"px-6 pb-6 space-y-6",children:[(0,t.jsxs)("div",{className:"mtg-grid-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Nome do Deck *"}),(0,t.jsx)(r.p,{value:q.name,onChange:e=>S(s=>({...s,name:e.target.value})),placeholder:"Digite o nome do deck...",className:"mtg-input"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Formato"}),(0,t.jsxs)(n.l6,{value:q.format,onValueChange:e=>S(s=>({...s,format:e})),children:[(0,t.jsx)(n.bq,{className:"mtg-select",children:(0,t.jsx)(n.yv,{})}),(0,t.jsx)(n.gC,{className:"mtg-dropdown",children:["Standard","Pioneer","Modern","Legacy","Vintage","Commander","Historic","Pauper","Brawl","Casual"].map(e=>(0,t.jsx)(n.eb,{value:e,className:"mtg-dropdown-item",children:e},e))})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Descri\xe7\xe3o"}),(0,t.jsx)(i.T,{value:q.description,onChange:e=>S(s=>({...s,description:e.target.value})),placeholder:"Descreva a estrat\xe9gia do seu deck...",className:"mtg-textarea",rows:3})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Cores do Deck"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-3",children:[{color:"W",name:"Branco",bg:"from-yellow-400 to-orange-500"},{color:"U",name:"Azul",bg:"from-blue-500 to-cyan-600"},{color:"B",name:"Preto",bg:"from-gray-700 to-gray-900"},{color:"R",name:"Vermelho",bg:"from-red-500 to-orange-600"},{color:"G",name:"Verde",bg:"from-green-500 to-emerald-600"}].map(e=>{let{color:s,name:a,bg:l}=e;return(0,t.jsx)("button",{onClick:()=>{S(e=>({...e,colors:e.colors.includes(s)?e.colors.filter(e=>e!==s):[...e.colors,s]}))},className:"w-12 h-12 rounded-xl flex items-center justify-center text-white font-bold transition-all ".concat(q.colors.includes(s)?"bg-gradient-to-br ".concat(l," scale-110 ring-2 ring-white/30"):"bg-slate-700 hover:bg-slate-600"),title:a,children:s},s)})})]})]})]}),(0,t.jsxs)("div",{className:"mtg-grid gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"text-center p-6 bg-gradient-to-br from-blue-500/10 to-blue-600/20 rounded-xl border border-blue-500/30",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:ed.total}),(0,t.jsx)("div",{className:"text-slate-300 font-medium",children:"Total de Cartas"})]}),(0,t.jsxs)("div",{className:"text-center p-6 bg-gradient-to-br from-green-500/10 to-green-600/20 rounded-xl border border-green-500/30",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-green-400 mb-2",children:ed.mainboard}),(0,t.jsx)("div",{className:"text-slate-300 font-medium",children:"Deck Principal"})]}),(0,t.jsxs)("div",{className:"text-center p-6 bg-gradient-to-br from-purple-500/10 to-purple-600/20 rounded-xl border border-purple-500/30",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:ed.sideboard}),(0,t.jsx)("div",{className:"text-slate-300 font-medium",children:"Sideboard"})]}),(0,t.jsxs)("div",{className:"text-center p-6 bg-gradient-to-br from-yellow-500/10 to-yellow-600/20 rounded-xl border border-yellow-500/30",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-yellow-400 mb-2",children:ed.commander}),(0,t.jsx)("div",{className:"text-slate-300 font-medium",children:"Commander"})]})]}),(0,t.jsx)("div",{className:"mtg-card mb-8",children:(0,t.jsx)("div",{className:"px-6 pt-6 pb-2",children:(0,t.jsxs)("div",{className:"mtg-tabs",children:[(0,t.jsxs)("button",{onClick:()=>es("search"),className:"mtg-tab ".concat("search"===ee?"mtg-tab-active":""),children:[(0,t.jsx)(h.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Buscar Cartas"})]}),(0,t.jsxs)("button",{onClick:()=>es("collection"),className:"mtg-tab ".concat("collection"===ee?"mtg-tab-active":""),children:[(0,t.jsx)(O.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Da Cole\xe7\xe3o"})]}),(0,t.jsxs)("button",{onClick:()=>es("deck"),className:"mtg-tab ".concat("deck"===ee?"mtg-tab-active":""),children:[(0,t.jsx)(el.A,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:["Deck Atual (",ed.total,")"]})]})]})})}),"search"===ee&&(0,t.jsxs)("div",{className:"mtg-grid-wide gap-8",children:[(0,t.jsxs)("div",{className:"mtg-card",children:[(0,t.jsxs)("div",{className:"mtg-card-header",children:[(0,t.jsx)($.A,{className:"mtg-card-icon"}),(0,t.jsxs)("div",{className:"mtg-card-content flex-1",children:[(0,t.jsx)("h3",{className:"mtg-card-title",children:"Filtros de Busca"}),(0,t.jsx)("p",{className:"mtg-card-description",children:"Configure os par\xe2metros para encontrar as cartas perfeitas"})]}),(0,t.jsx)("button",{onClick:eg,className:"mtg-button mtg-button-ghost",title:"Limpar filtros",children:(0,t.jsx)(U.A,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"px-6 pb-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Nome da carta"}),(0,t.jsx)(r.p,{value:P,onChange:e=>D(e.target.value),onKeyDown:e=>"Enter"===e.key&&eo(),placeholder:"Digite o nome da carta...",className:"mtg-input"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Raridade"}),(0,t.jsxs)(n.l6,{value:L,onValueChange:B,children:[(0,t.jsx)(n.bq,{className:"mtg-select",children:(0,t.jsx)(n.yv,{})}),(0,t.jsxs)(n.gC,{className:"mtg-dropdown",children:[(0,t.jsx)(n.eb,{value:"all",className:"mtg-dropdown-item",children:"Todas"}),(0,t.jsx)(n.eb,{value:"common",className:"mtg-dropdown-item",children:"Comum"}),(0,t.jsx)(n.eb,{value:"uncommon",className:"mtg-dropdown-item",children:"Incomum"}),(0,t.jsx)(n.eb,{value:"rare",className:"mtg-dropdown-item",children:"Rara"}),(0,t.jsx)(n.eb,{value:"mythic",className:"mtg-dropdown-item",children:"M\xedtica"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Tipo"}),(0,t.jsxs)(n.l6,{value:F,onValueChange:I,children:[(0,t.jsx)(n.bq,{className:"mtg-select",children:(0,t.jsx)(n.yv,{})}),(0,t.jsxs)(n.gC,{className:"mtg-dropdown",children:[(0,t.jsx)(n.eb,{value:"all",className:"mtg-dropdown-item",children:"Todos"}),(0,t.jsx)(n.eb,{value:"creature",className:"mtg-dropdown-item",children:"Criatura"}),(0,t.jsx)(n.eb,{value:"instant",className:"mtg-dropdown-item",children:"Instant\xe2neo"}),(0,t.jsx)(n.eb,{value:"sorcery",className:"mtg-dropdown-item",children:"Feiti\xe7o"}),(0,t.jsx)(n.eb,{value:"artifact",className:"mtg-dropdown-item",children:"Artefato"}),(0,t.jsx)(n.eb,{value:"enchantment",className:"mtg-dropdown-item",children:"Encantamento"}),(0,t.jsx)(n.eb,{value:"planeswalker",className:"mtg-dropdown-item",children:"Planeswalker"}),(0,t.jsx)(n.eb,{value:"land",className:"mtg-dropdown-item",children:"Terreno"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"CMC (Custo Convertido de Mana)"}),(0,t.jsx)(r.p,{value:_,onChange:e=>G(e.target.value),placeholder:"Ex: 3, <=2, >=4",className:"mtg-input"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Cores"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-3",children:[{color:"W",name:"Branco",bg:"from-yellow-400 to-orange-500"},{color:"U",name:"Azul",bg:"from-blue-500 to-cyan-600"},{color:"B",name:"Preto",bg:"from-gray-700 to-gray-900"},{color:"R",name:"Vermelho",bg:"from-red-500 to-orange-600"},{color:"G",name:"Verde",bg:"from-green-500 to-emerald-600"}].map(e=>{let{color:s,name:a,bg:l}=e;return(0,t.jsx)("button",{onClick:()=>{Z(e=>e.includes(s)?e.filter(e=>e!==s):[...e,s])},className:"w-10 h-10 rounded-lg flex items-center justify-center text-white font-bold transition-all ".concat(H.includes(s)?"bg-gradient-to-br ".concat(l," scale-110 ring-2 ring-white/30"):"bg-slate-700 hover:bg-slate-600"),title:a,children:s},s)})})]}),(0,t.jsxs)("button",{className:"mtg-button mtg-button-primary w-full",onClick:eo,disabled:Q,children:[(0,t.jsx)(h.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:Q?"Buscando...":"Buscar Cartas"}),Q&&(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin ml-2"})]})]})]}),(0,t.jsxs)("div",{className:"mtg-card flex-1",children:[(0,t.jsxs)("div",{className:"mtg-card-header",children:[(0,t.jsx)(ep.A,{className:"mtg-card-icon"}),(0,t.jsxs)("div",{className:"mtg-card-content",children:[(0,t.jsxs)("h3",{className:"mtg-card-title",children:["Resultados da Busca ",W.length>0&&"(".concat(W.length,")")]}),(0,t.jsx)("p",{className:"mtg-card-description",children:"Clique nas cartas para adicion\xe1-las ao seu deck"})]})]}),(0,t.jsx)("div",{className:"px-6 pb-6",children:(0,t.jsxs)("div",{className:"min-h-[400px]",children:[Q&&(0,t.jsxs)("div",{className:"text-center py-12 text-slate-400",children:[(0,t.jsx)(u.A,{className:"w-12 h-12 mx-auto mb-4 opacity-50 animate-spin"}),(0,t.jsx)("p",{children:"Pesquisando cartas..."})]}),!Q&&Y&&(0,t.jsxs)("div",{className:"text-center py-12 text-slate-400",children:[(0,t.jsx)(g.A,{className:"w-12 h-12 mx-auto mb-4 opacity-50 text-red-400"}),(0,t.jsx)("p",{className:"text-red-400",children:Y}),(0,t.jsx)("button",{onClick:eo,className:"mtg-button mtg-button-secondary mt-4",children:"Tentar novamente"})]}),!Q&&!Y&&0===W.length&&(0,t.jsxs)("div",{className:"text-center py-12 text-slate-400",children:[(0,t.jsx)(h.A,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:"Use os filtros ao lado para pesquisar cartas"})]}),!Q&&!Y&&W.length>0&&(0,t.jsx)(E,{cards:W,collection:[],onAddCard:(e,s)=>em(e,"mainboard",s),className:"mb-6"})]})})]})]}),"collection"===ee&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"mtg-card",children:[(0,t.jsxs)("div",{className:"mtg-card-header",children:[(0,t.jsx)(O.A,{className:"mtg-card-icon"}),(0,t.jsxs)("div",{className:"mtg-card-content",children:[(0,t.jsx)("h3",{className:"mtg-card-title",children:"Sua Cole\xe7\xe3o Pessoal"}),(0,t.jsx)("p",{className:"mtg-card-description",children:"Selecione cartas da sua cole\xe7\xe3o para adicionar ao deck"})]})]}),(0,t.jsxs)("div",{className:"px-6 pb-6",children:[C&&(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-6 p-4 bg-slate-800/50 rounded-xl border border-slate-700/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,t.jsxs)("span",{className:"text-sm text-slate-300",children:[(0,t.jsx)("span",{className:"font-semibold text-white",children:C.cards.length})," cartas \xfanicas"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,t.jsxs)("span",{className:"text-sm text-slate-300",children:[(0,t.jsx)("span",{className:"font-semibold text-white",children:C.cards.reduce((e,s)=>e+s.quantity,0)})," cartas totais"]})]})]}),(0,t.jsxs)("div",{className:"mtg-grid-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Buscar na cole\xe7\xe3o"}),(0,t.jsx)(r.p,{placeholder:"Nome da carta...",value:P,onChange:e=>D(e.target.value),className:"mtg-input"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Raridade"}),(0,t.jsxs)(n.l6,{value:L,onValueChange:B,children:[(0,t.jsx)(n.bq,{className:"mtg-select",children:(0,t.jsx)(n.yv,{placeholder:"Raridade"})}),(0,t.jsxs)(n.gC,{className:"mtg-dropdown",children:[(0,t.jsx)(n.eb,{value:"all",className:"mtg-dropdown-item",children:"Todas"}),(0,t.jsx)(n.eb,{value:"common",className:"mtg-dropdown-item",children:"Comum"}),(0,t.jsx)(n.eb,{value:"uncommon",className:"mtg-dropdown-item",children:"Incomum"}),(0,t.jsx)(n.eb,{value:"rare",className:"mtg-dropdown-item",children:"Rara"}),(0,t.jsx)(n.eb,{value:"mythic",className:"mtg-dropdown-item",children:"M\xedtica"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Tipo"}),(0,t.jsxs)(n.l6,{value:F,onValueChange:I,children:[(0,t.jsx)(n.bq,{className:"mtg-select",children:(0,t.jsx)(n.yv,{placeholder:"Tipo"})}),(0,t.jsxs)(n.gC,{className:"mtg-dropdown",children:[(0,t.jsx)(n.eb,{value:"all",className:"mtg-dropdown-item",children:"Todos"}),(0,t.jsx)(n.eb,{value:"creature",className:"mtg-dropdown-item",children:"Criatura"}),(0,t.jsx)(n.eb,{value:"instant",className:"mtg-dropdown-item",children:"M\xe1gica Instant\xe2nea"}),(0,t.jsx)(n.eb,{value:"sorcery",className:"mtg-dropdown-item",children:"Feiti\xe7o"}),(0,t.jsx)(n.eb,{value:"artifact",className:"mtg-dropdown-item",children:"Artefato"}),(0,t.jsx)(n.eb,{value:"enchantment",className:"mtg-dropdown-item",children:"Encantamento"}),(0,t.jsx)(n.eb,{value:"planeswalker",className:"mtg-dropdown-item",children:"Planeswalker"}),(0,t.jsx)(n.eb,{value:"land",className:"mtg-dropdown-item",children:"Terreno"})]})]})]})]})]})]}),(0,t.jsx)(eS,{searchTerm:P,raridade:L,tipo:F,onAddCard:em,currentDeck:en,currentCollection:C})]}),"deck"===ee&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"mtg-card",children:(0,t.jsxs)("div",{className:"mtg-card-header",children:[(0,t.jsx)(N.A,{className:"mtg-card-icon"}),(0,t.jsxs)("div",{className:"mtg-card-content flex-1",children:[(0,t.jsx)("h3",{className:"mtg-card-title",children:"Visualiza\xe7\xe3o do Deck"}),(0,t.jsx)("p",{className:"mtg-card-description",children:"Gerencie as cartas do seu deck atual"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label text-xs",children:"Categoria"}),(0,t.jsxs)(n.l6,{value:ea,onValueChange:e=>et(e),children:[(0,t.jsx)(n.bq,{className:"w-48 mtg-select",children:(0,t.jsx)(n.yv,{})}),(0,t.jsxs)(n.gC,{className:"mtg-dropdown",children:[(0,t.jsx)(n.eb,{value:"all",className:"mtg-dropdown-item",children:"Todas as cartas"}),(0,t.jsx)(n.eb,{value:"mainboard",className:"mtg-dropdown-item",children:"Deck Principal"}),(0,t.jsx)(n.eb,{value:"sideboard",className:"mtg-dropdown-item",children:"Sideboard"}),(0,t.jsx)(n.eb,{value:"commander",className:"mtg-dropdown-item",children:"Commander"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 bg-slate-800 rounded-lg p-1",children:[(0,t.jsx)("button",{onClick:()=>ec("list"),className:"h-8 w-8 p-0 rounded transition-colors ".concat("list"===er?"bg-blue-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"),title:"Vista em lista",children:(0,t.jsx)(R.A,{className:"h-4 w-4 mx-auto"})}),(0,t.jsx)("button",{onClick:()=>ec("grid"),className:"h-8 w-8 p-0 rounded transition-colors ".concat("grid"===er?"bg-blue-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"),title:"Vista em grade",children:(0,t.jsx)(M.A,{className:"h-4 w-4 mx-auto"})})]})]})]})}),(0,t.jsx)("div",{className:"mtg-card",children:(0,t.jsx)("div",{className:"px-6 pt-6 pb-6",children:0===ei.length?(0,t.jsxs)("div",{className:"text-center py-12 text-slate-400",children:[(0,t.jsx)(N.A,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Nenhuma carta nesta categoria"}),(0,t.jsx)("p",{className:"text-sm",children:'Use as abas "Buscar Cartas" ou "Da Cole\xe7\xe3o" para adicionar cartas ao deck'})]}):(0,t.jsx)("div",{className:"grid"===er?"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4":"space-y-3",children:ei.map(e=>{let s=eE(e.card,"small");return"grid"===er?(0,t.jsx)("div",{className:"mtg-card-mini",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"aspect-[63/88] bg-slate-900 rounded-lg overflow-hidden mb-2",children:s?(0,t.jsx)(v.default,{src:s,alt:e.card.name,fill:!0,className:"object-cover cursor-pointer hover:scale-105 transition-transform",onClick:()=>k(e.card),sizes:"150px"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-slate-400 text-xs text-center p-2",children:e.card.name})}),(0,t.jsx)("div",{className:"absolute top-1 left-1 bg-blue-600 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold shadow-lg",children:e.quantity}),(0,t.jsxs)("div",{className:"text-xs",children:[(0,t.jsx)("p",{className:"text-white font-medium truncate mb-1",title:e.card.name,children:e.card.name}),(0,t.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium ".concat("mainboard"===e.category?"bg-green-500/20 text-green-400":"sideboard"===e.category?"bg-purple-500/20 text-purple-400":"bg-yellow-500/20 text-yellow-400"),children:"mainboard"===e.category?"Main":"sideboard"===e.category?"Side":"Cmd"})]})]})},"".concat(e.card.id,"-").concat(e.category)):(0,t.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-slate-800/30 rounded-xl hover:bg-slate-800/50 transition-colors group border border-slate-700/30",children:[(0,t.jsx)("div",{className:"w-12 h-16 bg-slate-900 rounded-lg overflow-hidden flex-shrink-0",children:s?(0,t.jsx)(v.default,{src:s,alt:e.card.name,width:48,height:64,className:"object-cover cursor-pointer hover:scale-105 transition-transform",onClick:()=>k(e.card)}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xs text-slate-500 text-center",children:e.card.set_code})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h4",{className:"text-white font-medium truncate",children:e.card.name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm truncate",children:e.card.type_line}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium ".concat("mainboard"===e.category?"bg-green-500/20 text-green-400":"sideboard"===e.category?"bg-purple-500/20 text-purple-400":"bg-yellow-500/20 text-yellow-400"),children:e.category}),(0,t.jsx)("span",{className:"text-slate-500 text-xs",children:e.card.set_name})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 bg-slate-700 rounded-lg",children:[(0,t.jsx)("button",{onClick:()=>eh(e.card.id,e.category,e.quantity-1),className:"h-8 w-8 p-0 hover:bg-red-600 text-red-400 hover:text-white rounded-l-lg transition-colors flex items-center justify-center",children:(0,t.jsx)(T.A,{className:"h-3 w-3"})}),(0,t.jsx)("span",{className:"text-white text-sm w-8 text-center bg-slate-800 py-1",children:e.quantity}),(0,t.jsx)("button",{onClick:()=>eh(e.card.id,e.category,e.quantity+1),className:"h-8 w-8 p-0 hover:bg-green-600 text-green-400 hover:text-white rounded-r-lg transition-colors flex items-center justify-center",children:(0,t.jsx)(z.A,{className:"h-3 w-3"})})]}),(0,t.jsx)("button",{onClick:()=>ex(e.card.id,e.category),className:"h-8 w-8 p-0 text-red-400 hover:text-red-300 hover:bg-red-600/20 rounded-lg transition-colors flex items-center justify-center",title:"Remover carta",children:(0,t.jsx)(eq.A,{className:"h-3 w-3"})})]})]},"".concat(e.card.id,"-").concat(e.category))})})})})]})]})};a(2617),a(8501);var eD=a(7550),eT=a(4357),ez=a(4940);let eM=e=>{let{cards:s,onUpdateQuantity:a,onRemoveCard:l,onCardClick:r}=e;return 0===s.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(N.A,{className:"w-8 h-8 mx-auto mb-2 text-gray-500"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Nenhuma carta encontrada"})]}):(0,t.jsx)("div",{className:"space-y-2",children:s.map(e=>(0,t.jsxs)("div",{className:"flex items-center p-2 bg-gray-800/40 rounded border border-gray-700 hover:bg-gray-700/40 transition-colors group",children:[(0,t.jsx)("div",{className:"w-8 h-11 bg-gray-900 rounded overflow-hidden flex-shrink-0 mr-3",children:(0,f.VG)(e.card,"small")?(0,t.jsx)(v.default,{src:(0,f.VG)(e.card,"small"),alt:e.card.name,width:32,height:44,className:"object-cover cursor-pointer",onClick:()=>r(e.card)}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-xs text-gray-500",children:e.card.set_code})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-sm text-gray-200 font-medium truncate cursor-pointer hover:text-blue-400",onClick:()=>r(e.card),children:e.card.name}),(0,t.jsx)("div",{className:"text-xs text-gray-400",children:e.card.type_line})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"text-sm text-gray-300 w-6 text-center",children:e.quantity}),(0,t.jsxs)("div",{className:"flex opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)(c.$,{size:"sm",variant:"ghost",onClick:()=>a(e.card.id,e.category,e.quantity-1),className:"h-6 w-6 p-0 text-gray-400 hover:text-white",children:(0,t.jsx)(T.A,{className:"h-3 w-3"})}),(0,t.jsx)(c.$,{size:"sm",variant:"ghost",onClick:()=>a(e.card.id,e.category,e.quantity+1),className:"h-6 w-6 p-0 text-gray-400 hover:text-white",children:(0,t.jsx)(z.A,{className:"h-3 w-3"})}),(0,t.jsx)(c.$,{size:"sm",variant:"ghost",onClick:()=>l(e.card.id,e.category),className:"h-6 w-6 p-0 text-gray-400 hover:text-red-400",children:(0,t.jsx)(eq.A,{className:"h-3 w-3"})})]})]})]},"".concat(e.card.id,"-").concat(e.category)))})},eR=e=>{let{cards:s,viewMode:a,onCardClick:l}=e;return 0===s.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(N.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-500 opacity-70"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Nenhuma carta para exibir"})]}):"grid"===a?(0,t.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3",children:s.map(e=>(0,t.jsx)("div",{className:"relative group",children:(0,t.jsxs)("div",{className:"aspect-[63/88] bg-gray-800/80 rounded-md overflow-hidden shadow-md",children:[(0,f.VG)(e.card)?(0,t.jsx)(v.default,{src:(0,f.VG)(e.card),alt:e.card.name,fill:!0,className:"object-cover cursor-pointer hover:scale-105 transition-transform duration-300",onClick:()=>l(e.card),sizes:"120px"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs text-center p-2",children:e.card.name}),(0,t.jsx)("div",{className:"absolute top-1 left-1 bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold shadow-md",children:e.quantity}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,t.jsx)("p",{className:"text-white text-xs font-medium truncate",children:e.card.name})})]})},"".concat(e.card.id,"-").concat(e.category)))}):(0,t.jsx)("div",{className:"space-y-3",children:s.map(e=>(0,t.jsxs)("div",{className:"flex gap-3 p-3 bg-gray-800/40 rounded border border-gray-700 hover:bg-gray-700/40 transition-colors",children:[(0,t.jsx)("div",{className:"w-16 h-22 bg-gray-800 rounded overflow-hidden flex-shrink-0",children:(0,f.VG)(e.card,"normal")?(0,t.jsx)(v.default,{src:(0,f.VG)(e.card,"normal"),alt:e.card.name,width:64,height:88,className:"object-cover cursor-pointer",onClick:()=>l(e.card)}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs text-center p-1",children:e.card.name})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("h3",{className:"text-gray-100 font-bold cursor-pointer hover:text-blue-400",onClick:()=>l(e.card),children:e.card.name}),(0,t.jsxs)(m.E,{className:"bg-blue-600/30 text-blue-200 border-0 text-xs",children:[e.quantity,"x"]})]}),(0,t.jsx)("p",{className:"text-gray-300 text-sm",children:e.card.type_line}),(0,t.jsx)("p",{className:"text-gray-400 text-xs",children:e.card.set_name}),e.card.oracle_text&&(0,t.jsxs)("div",{className:"mt-2 p-2 bg-gray-800/70 rounded text-gray-300 text-xs",children:[e.card.oracle_text.substring(0,200),e.card.oracle_text.length>200&&"..."]})]})]},"".concat(e.card.id,"-").concat(e.category)))})},eV=e=>{let{manaCurve:s}=e,a=Math.max(...Object.values(s),1),l=Object.values(s).reduce((e,s)=>e+s,0);return(0,t.jsxs)(D.Zp,{className:"bg-gray-800/40 border border-gray-700 shadow-md",children:[(0,t.jsx)(D.aR,{className:"p-3 border-b border-gray-700 bg-gray-800/70",children:(0,t.jsxs)(D.ZB,{className:"text-gray-200 text-base flex items-center gap-2",children:[(0,t.jsx)(en.A,{className:"w-4 h-4"}),"Curva de Mana"]})}),(0,t.jsxs)(D.Wu,{className:"p-3",children:[(0,t.jsx)("div",{className:"flex items-end justify-between gap-1 h-20",children:[0,1,2,3,4,5,6,7].map(e=>{let l=s[e]||0,r=a>0?l/a*100:0;return(0,t.jsxs)("div",{className:"flex flex-col items-center flex-1",children:[(0,t.jsx)("div",{className:"text-xs text-gray-400 mb-1 h-3",children:l>0&&l}),(0,t.jsx)("div",{className:"w-full bg-gray-700/50 rounded-t relative",style:{height:"50px"},children:(0,t.jsx)("div",{className:"absolute bottom-0 w-full bg-blue-600/70 rounded-t",style:{height:"".concat(r,"%")}})}),(0,t.jsx)("div",{className:"text-gray-400 text-xs mt-1",children:7===e?"7+":e})]},e)})}),(0,t.jsx)("div",{className:"mt-2 text-center",children:(0,t.jsxs)("div",{className:"text-xs text-gray-400",children:["M\xe9dia: ",l>0?(Object.entries(s).reduce((e,s)=>{let[a,t]=s;return e+Number(a)*t},0)/l).toFixed(1):"0.0"]})})]})]})},eL=e=>{let{cards:s}=e,a=(0,l.useMemo)(()=>{let e={};return s.forEach(s=>{var a;let t=(null===(a=s.card.type_line)||void 0===a?void 0:a.toLowerCase())||"",l="Other";t.includes("creature")?l="Creature":t.includes("instant")?l="Instant":t.includes("sorcery")?l="Sorcery":t.includes("artifact")?l="Artifact":t.includes("enchantment")?l="Enchantment":t.includes("planeswalker")?l="Planeswalker":t.includes("land")&&(l="Land"),e[l]=(e[l]||0)+s.quantity}),Object.entries(e).sort((e,s)=>{let[,a]=e,[,t]=s;return t-a})},[s]),r=a.reduce((e,s)=>{let[,a]=s;return e+a},0),c={Creature:"bg-green-600/70",Instant:"bg-blue-600/70",Sorcery:"bg-red-600/70",Artifact:"bg-slate-400/70",Enchantment:"bg-yellow-600/70",Planeswalker:"bg-purple-600/70",Land:"bg-emerald-700/70",Other:"bg-gray-500/70"};return 0===a.length?null:(0,t.jsxs)(D.Zp,{className:"bg-gray-800/40 border border-gray-700 shadow-md",children:[(0,t.jsx)(D.aR,{className:"p-3 border-b border-gray-700 bg-gray-800/70",children:(0,t.jsxs)(D.ZB,{className:"text-gray-200 text-base flex items-center gap-2",children:[(0,t.jsx)(eN.A,{className:"w-4 h-4"}),"Tipos"]})}),(0,t.jsx)(D.Wu,{className:"p-3 space-y-2",children:a.map(e=>{let[s,a]=e,l=r>0?a/r*100:0;return(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-sm ".concat(c[s])}),(0,t.jsx)("span",{className:"text-gray-300",children:s})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-16 h-1.5 bg-gray-700/70 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full ".concat(c[s]," rounded-full"),style:{width:"".concat(l,"%")}})}),(0,t.jsx)("span",{className:"text-gray-400 text-xs w-6 text-right",children:a})]})]},s)})})]})},eB=e=>{let{deckId:s,onClose:a,onEdit:r}=e,{decks:m,editarDeck:x,deletarDeck:u,duplicarDeck:g,atualizarQuantidadeNoDeck:j,removerCartaDoDeck:b}=(0,o.U)(),{openModal:p}=(0,d.h)(),[N,v]=(0,l.useState)(!1),[f,y]=(0,l.useState)("grid"),[w,C]=(0,l.useState)("all"),[k,A]=(0,l.useState)(""),[q,S]=(0,l.useState)(!1),E=m.find(e=>e.id===s),[D,T]=(0,l.useState)({name:(null==E?void 0:E.name)||"",format:(null==E?void 0:E.format)||"Standard",description:(null==E?void 0:E.description)||"",colors:(null==E?void 0:E.colors)||[],tags:(null==E?void 0:E.tags)||[]});if(!E)return(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("p",{className:"text-gray-400",children:"Deck n\xe3o encontrado"})});let z=(0,l.useMemo)(()=>{let e=E.cards;return"all"!==w&&(e=e.filter(e=>e.category===w)),k.trim()&&(e=e.filter(e=>(0,P.S)(e.card,k))),e},[E.cards,w,k]),V=(0,l.useMemo)(()=>{let e=E.cards.filter(e=>"mainboard"===e.category),s=E.cards.filter(e=>"sideboard"===e.category),a=E.cards.filter(e=>"commander"===e.category),t=e.reduce((e,s)=>e+s.quantity,0),l=s.reduce((e,s)=>e+s.quantity,0),r=a.reduce((e,s)=>e+s.quantity,0),c={};return e.forEach(e=>{let s=e.card.cmc||0,a=s>=7?7:s;c[a]=(c[a]||0)+e.quantity}),{mainboard:t,sideboard:l,commander:r,total:t+l+r,unique:E.cards.length,manaCurve:c}},[E.cards]);return(0,t.jsxs)("div",{className:"quantum-card min-h-[calc(100vh-80px)] p-0 m-0",children:[(0,t.jsxs)("div",{className:"sticky top-0 z-30 bg-black/90 backdrop-blur-md border-b border-cyan-500/30 shadow-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2 p-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("button",{onClick:a,className:"quantum-btn compact",children:[(0,t.jsx)(eD.A,{className:"w-3.5 h-3.5"}),"Voltar"]}),(0,t.jsx)("h2",{className:"text-md font-bold text-cyan-400 truncate ml-2",children:E.name}),(0,t.jsx)("span",{className:"quantum-badge primary text-xs",children:E.format})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("button",{className:"quantum-btn compact",onClick:()=>{g(s,"".concat(E.name," (C\xf3pia)"))},children:(0,t.jsx)(eT.A,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{className:"quantum-btn compact",onClick:()=>v(!0),children:(0,t.jsx)(ez.A,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{className:"quantum-btn compact",onClick:()=>{let e=E.cards.filter(e=>"mainboard"===e.category),s=E.cards.filter(e=>"sideboard"===e.category),a=E.cards.filter(e=>"commander"===e.category),t="// ".concat(E.name,"\n// Formato: ").concat(E.format,"\n\n");a.length>0&&(t+="Commander:\n",a.forEach(e=>{t+="".concat(e.quantity," ").concat(e.card.name,"\n")}),t+="\n"),e.length>0&&(t+="Main Deck:\n",e.forEach(e=>{t+="".concat(e.quantity," ").concat(e.card.name,"\n")}),t+="\n"),s.length>0&&(t+="Sideboard:\n",s.forEach(e=>{t+="".concat(e.quantity," ").concat(e.card.name,"\n")}));let l=new Blob([t],{type:"text/plain"}),r=URL.createObjectURL(l),c=document.createElement("a");c.href=r,c.download="".concat(E.name,".txt"),document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(r)},children:(0,t.jsx)(Z.A,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{className:"quantum-btn compact",onClick:()=>S(!0),children:(0,t.jsx)(H.A,{className:"w-3.5 h-3.5 text-red-500"})})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-1 mx-2 mb-2",children:[(0,t.jsxs)("div",{className:"relative flex-1 min-w-[180px]",children:[(0,t.jsx)(h.A,{className:"absolute left-2 top-1.5 w-3.5 h-3.5 text-gray-400"}),(0,t.jsx)("input",{type:"text",value:k,onChange:e=>A(e.target.value),placeholder:"Filtrar cartas...",className:"quantum-input pl-8 h-7 py-0 text-sm"})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("button",{onClick:()=>C("all"),className:"quantum-btn compact ".concat("all"===w?"primary":""),children:"Todas"}),(0,t.jsxs)("button",{onClick:()=>C("mainboard"),className:"quantum-btn compact ".concat("mainboard"===w?"primary":""),children:["Main (",V.mainboard,")"]}),V.sideboard>0&&(0,t.jsxs)("button",{onClick:()=>C("sideboard"),className:"quantum-btn compact ".concat("sideboard"===w?"primary":""),children:["Side (",V.sideboard,")"]}),V.commander>0&&(0,t.jsxs)("button",{onClick:()=>C("commander"),className:"quantum-btn compact ".concat("commander"===w?"primary":""),children:["Cmd (",V.commander,")"]})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("button",{onClick:()=>y("grid"),className:"quantum-btn compact ".concat("grid"===f?"secondary":""),children:(0,t.jsx)(M.A,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:()=>y("spoiler"),className:"quantum-btn compact ".concat("spoiler"===f?"secondary":""),children:(0,t.jsx)(R.A,{className:"w-3.5 h-3.5"})})]})]})]}),(0,t.jsx)(ef.lG,{open:N,onOpenChange:v,children:(0,t.jsxs)(ef.Cf,{className:"quantum-card",children:[(0,t.jsx)(ef.c7,{children:(0,t.jsx)("h2",{className:"quantum-card-title",children:"Editar Deck"})}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"quantum-form-group",children:[(0,t.jsx)("label",{className:"quantum-label",htmlFor:"name",children:"Nome do Deck"}),(0,t.jsx)("input",{id:"name",type:"text",className:"quantum-input",value:D.name,onChange:e=>T({...D,name:e.target.value})})]}),(0,t.jsxs)("div",{className:"quantum-form-group",children:[(0,t.jsx)("label",{className:"quantum-label",htmlFor:"format",children:"Formato"}),(0,t.jsxs)(n.l6,{value:D.format,onValueChange:e=>T({...D,format:e}),children:[(0,t.jsx)(n.bq,{className:"quantum-select",children:(0,t.jsx)(n.yv,{})}),(0,t.jsxs)(n.gC,{children:[(0,t.jsx)(n.eb,{value:"Standard",children:"Standard"}),(0,t.jsx)(n.eb,{value:"Modern",children:"Modern"}),(0,t.jsx)(n.eb,{value:"Commander",children:"Commander"}),(0,t.jsx)(n.eb,{value:"Pioneer",children:"Pioneer"}),(0,t.jsx)(n.eb,{value:"Legacy",children:"Legacy"}),(0,t.jsx)(n.eb,{value:"Vintage",children:"Vintage"}),(0,t.jsx)(n.eb,{value:"Pauper",children:"Pauper"}),(0,t.jsx)(n.eb,{value:"Limited",children:"Limited"}),(0,t.jsx)(n.eb,{value:"Historic",children:"Historic"}),(0,t.jsx)(n.eb,{value:"Brawl",children:"Brawl"}),(0,t.jsx)(n.eb,{value:"Outro",children:"Outro"})]})]})]}),(0,t.jsxs)("div",{className:"quantum-form-group",children:[(0,t.jsx)("label",{className:"quantum-label",htmlFor:"description",children:"Descri\xe7\xe3o"}),(0,t.jsx)(i.T,{id:"description",className:"quantum-textarea",value:D.description,onChange:e=>T({...D,description:e.target.value})})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,t.jsx)(c.$,{className:"quantum-btn",onClick:()=>v(!1),children:"Cancelar"}),(0,t.jsx)(c.$,{className:"quantum-btn primary",onClick:()=>{x(s,{name:D.name,format:D.format,description:D.description,colors:D.colors,tags:D.tags}),v(!1)},children:"Salvar Altera\xe7\xf5es"})]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-12 gap-2 p-2",children:[(0,t.jsx)("div",{className:"col-span-12 sm:col-span-3 space-y-2",style:{maxHeight:"calc(100vh - 140px)",overflow:"auto"},children:(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsxs)("div",{className:"text-xs text-center p-1 border-b border-cyan-500/20 mb-2",children:[(0,t.jsx)("span",{className:"text-cyan-400",children:V.unique})," cartas \xfanicas • ",(0,t.jsx)("span",{className:"text-cyan-400",children:V.total})," total"]}),(0,t.jsx)(eM,{cards:z,onUpdateQuantity:(e,a,t)=>{j(s,e,t,a)},onRemoveCard:(e,a)=>{b(s,e,a)},onCardClick:p})]})}),(0,t.jsx)("div",{className:"col-span-12 sm:col-span-6",style:{maxHeight:"calc(100vh - 140px)",overflow:"auto"},children:(0,t.jsx)("div",{className:"quantum-card-dense",children:(0,t.jsx)(eR,{cards:z,viewMode:f,onCardClick:p})})}),(0,t.jsxs)("div",{className:"col-span-12 sm:col-span-3 space-y-2",style:{maxHeight:"calc(100vh - 140px)",overflow:"auto"},children:[(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsx)("div",{className:"flex justify-between items-center border-b border-cyan-500/20 p-1",children:(0,t.jsx)("span",{className:"text-xs font-semibold text-cyan-400",children:"Distribui\xe7\xe3o"})}),(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs mb-1",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Main Deck"}),(0,t.jsx)("span",{className:"text-white font-mono",children:V.mainboard})]}),V.commander>0&&(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs mb-1",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Commander"}),(0,t.jsx)("span",{className:"text-white font-mono",children:V.commander})]}),V.sideboard>0&&(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs mb-1",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Sideboard"}),(0,t.jsx)("span",{className:"text-white font-mono",children:V.sideboard})]}),(0,t.jsx)("div",{className:"h-px bg-gradient-to-r from-cyan-500/20 via-cyan-400/40 to-cyan-500/20 my-1"}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,t.jsx)("span",{className:"text-gray-300",children:"Total"}),(0,t.jsx)("span",{className:"text-cyan-400 font-mono font-bold",children:V.total})]})]})]}),(0,t.jsx)(eV,{manaCurve:V.manaCurve}),(0,t.jsx)(eL,{cards:E.cards.filter(e=>"mainboard"===e.category)}),E.description&&(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsx)("div",{className:"flex justify-between items-center border-b border-cyan-500/20 p-1",children:(0,t.jsx)("span",{className:"text-xs font-semibold text-cyan-400",children:"Descri\xe7\xe3o"})}),(0,t.jsx)("div",{className:"p-2 text-xs text-gray-300",children:E.description})]})]})]}),(0,t.jsx)(ef.lG,{open:q,onOpenChange:S,children:(0,t.jsxs)(ef.Cf,{className:"quantum-card",children:[(0,t.jsx)(ef.c7,{children:(0,t.jsx)("h2",{className:"quantum-card-title text-red-400",children:"Excluir Deck"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm text-gray-300 mb-4",children:["Tem certeza que deseja excluir o deck ",(0,t.jsx)("strong",{children:E.name}),"? Esta a\xe7\xe3o n\xe3o pode ser desfeita."]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(c.$,{className:"quantum-btn",onClick:()=>S(!1),children:"Cancelar"}),(0,t.jsxs)(c.$,{className:"quantum-btn primary",style:{background:"rgba(239, 68, 68, 0.2)",borderColor:"#ef4444"},onClick:()=>{u(s),S(!1),a()},children:[(0,t.jsx)(H.A,{className:"w-4 h-4"}),"Excluir Permanentemente"]})]})]})]})})]})};var eF=a(1274);function eI(){var e;let{decks:s,criarDeck:a,editarDeck:d,deletarDeck:x,duplicarDeck:u}=(0,o.U)(),[g,j]=(0,l.useState)(null),[b,p]=(0,l.useState)("list"),[v,f]=(0,l.useState)(!1),[y,w]=(0,l.useState)(null),[C,k]=(0,l.useState)({type:"info",message:"",visible:!1}),[A,q]=(0,l.useState)({name:"",format:"Standard",colors:[],description:""}),[S,E]=(0,l.useState)(""),[P,D]=(0,l.useState)("all"),[T,M]=(0,l.useState)("date"),[R,V]=(0,l.useState)("desc"),L=(e,s)=>{k({type:e,message:s,visible:!0}),setTimeout(()=>{k(e=>({...e,visible:!1}))},3e3)},B=e=>{u(e),L("success","Deck duplicado com sucesso!")},F=e=>{x(e),g===e&&(j(null),p("list")),w(null),L("success","Deck deletado com sucesso!")},I=(0,l.useMemo)(()=>{let e=s.filter(e=>{let s=e.name.toLowerCase().includes(S.toLowerCase()),a="all"===P||e.format===P;return s&&a});return e.sort((e,s)=>{let a=0;switch(T){case"name":a=e.name.localeCompare(s.name);break;case"date":a=new Date(e.createdAt||0).getTime()-new Date(s.createdAt||0).getTime();break;case"cards":a=e.cards.reduce((e,s)=>e+s.quantity,0)-s.cards.reduce((e,s)=>e+s.quantity,0);break;case"format":a=e.format.localeCompare(s.format)}return"asc"===R?a:-a}),e},[s,S,P,T,R]);return"viewer"===b&&g?(0,t.jsx)(eB,{deckId:g,onClose:()=>{j(null),p("list")},onEdit:()=>p("builder")}):"builder"===b?(0,t.jsx)(eP,{deckId:g||void 0,onSave:e=>{L("success",g?"Deck atualizado com sucesso!":"Deck criado com sucesso!"),j(e),p("list")},onCancel:()=>{j(null),p("list")}}):(0,t.jsxs)("div",{className:"p-4",children:[C.visible&&(0,t.jsx)("div",{className:"fixed top-4 right-4 p-3 rounded-md z-50 shadow-lg text-sm font-medium\n          ".concat("success"===C.type?"bg-green-600/90 text-white":"error"===C.type?"bg-red-600/90 text-white":"bg-blue-600/90 text-white"),children:C.message}),(0,t.jsx)("div",{className:"quantum-card-dense p-4 mb-4",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eF.A,{className:"w-5 h-5 text-cyan-400"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Construtor de Decks"}),(0,t.jsxs)("span",{className:"quantum-badge primary",children:[s.length," ",1===s.length?"deck":"decks"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("button",{onClick:()=>f(!0),className:"quantum-btn compact primary",children:[(0,t.jsx)(z.A,{className:"w-3.5 h-3.5 mr-1"}),"Novo Deck"]}),(0,t.jsx)(ek,{onImportSuccess:()=>L("success","Deck importado com sucesso!"),onImportError:e=>L("error","Erro ao importar deck: ".concat(e))})]})]})}),(0,t.jsx)("div",{className:"quantum-card-dense p-3 mb-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(h.A,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 w-3.5 h-3.5 text-gray-400"}),(0,t.jsx)(r.p,{placeholder:"Buscar deck...",value:S,onChange:e=>E(e.target.value),className:"pl-8 h-8 text-sm bg-black/40 border-gray-700"})]}),(0,t.jsxs)(n.l6,{value:P,onValueChange:D,children:[(0,t.jsx)(n.bq,{className:"h-8 text-sm bg-black/40 border-gray-700",children:(0,t.jsx)(n.yv,{placeholder:"Formato"})}),(0,t.jsxs)(n.gC,{children:[(0,t.jsx)(n.eb,{value:"all",children:"Todos os formatos"}),(0,t.jsx)(n.eb,{value:"Standard",children:"Standard"}),(0,t.jsx)(n.eb,{value:"Pioneer",children:"Pioneer"}),(0,t.jsx)(n.eb,{value:"Modern",children:"Modern"}),(0,t.jsx)(n.eb,{value:"Commander",children:"Commander"}),(0,t.jsx)(n.eb,{value:"Legacy",children:"Legacy"}),(0,t.jsx)(n.eb,{value:"Vintage",children:"Vintage"}),(0,t.jsx)(n.eb,{value:"Pauper",children:"Pauper"})]})]}),(0,t.jsxs)(n.l6,{value:"".concat(T,"-").concat(R),onValueChange:e=>{let[s,a]=e.split("-");M(s),V(a)},children:[(0,t.jsx)(n.bq,{className:"h-8 text-sm bg-black/40 border-gray-700",children:(0,t.jsx)(n.yv,{placeholder:"Ordenar por"})}),(0,t.jsxs)(n.gC,{children:[(0,t.jsx)(n.eb,{value:"date-desc",children:"Mais recentes primeiro"}),(0,t.jsx)(n.eb,{value:"date-asc",children:"Mais antigos primeiro"}),(0,t.jsx)(n.eb,{value:"name-asc",children:"Nome (A-Z)"}),(0,t.jsx)(n.eb,{value:"name-desc",children:"Nome (Z-A)"}),(0,t.jsx)(n.eb,{value:"cards-desc",children:"Mais cartas"}),(0,t.jsx)(n.eb,{value:"cards-asc",children:"Menos cartas"})]})]})]})}),I.length>0?(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:I.map(e=>{let s=e.cards.reduce((e,s)=>e+s.quantity,0),a=e.cards.filter(e=>"mainboard"===e.category).reduce((e,s)=>e+s.quantity,0),l=e.cards.filter(e=>"sideboard"===e.category).reduce((e,s)=>e+s.quantity,0);return(0,t.jsxs)("div",{className:"quantum-card-dense hover-highlight group",children:[(0,t.jsx)("div",{className:"p-3 border-b border-cyan-500/20",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-white truncate",children:e.name}),(0,t.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,t.jsx)(m.E,{className:"bg-gray-700/60 text-gray-200 text-[10px] h-4 px-1",children:e.format}),e.colors.length>0&&(0,t.jsx)("div",{className:"flex -space-x-1",children:e.colors.map(e=>(0,t.jsx)("div",{className:"w-4 h-4 rounded-full border border-gray-700 flex items-center justify-center text-[8px] \n                                  ".concat("W"===e?"bg-yellow-300/80 text-black":"U"===e?"bg-blue-500/80 text-white":"B"===e?"bg-gray-900/80 text-white":"R"===e?"bg-red-500/80 text-white":"bg-green-500/80 text-white"),children:e},e))})]})]}),(0,t.jsxs)("div",{className:"flex opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)("button",{onClick:()=>{j(e.id),p("viewer")},className:"p-1 text-gray-400 hover:text-cyan-400 transition",children:(0,t.jsx)(ep.A,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:()=>{j(e.id),p("builder")},className:"p-1 text-gray-400 hover:text-cyan-400 transition",children:(0,t.jsx)(ez.A,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:()=>B(e.id),className:"p-1 text-gray-400 hover:text-cyan-400 transition",children:(0,t.jsx)(eT.A,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:()=>w(e.id),className:"p-1 text-gray-400 hover:text-red-400 transition",children:(0,t.jsx)(H.A,{className:"w-3.5 h-3.5"})})]})]})}),(0,t.jsxs)("div",{className:"p-3 text-xs text-gray-400",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,t.jsx)("span",{children:"Total:"}),(0,t.jsxs)("span",{className:"font-mono text-cyan-400",children:[s," cartas"]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-[10px] text-gray-500",children:[(0,t.jsxs)("span",{children:["Main: ",a]}),l>0&&(0,t.jsxs)("span",{children:["Side: ",l]})]}),e.description&&(0,t.jsx)("div",{className:"mt-2 border-t border-gray-800 pt-2 line-clamp-2 text-[11px]",children:e.description})]}),(0,t.jsx)("div",{className:"p-2 bg-gradient-to-r from-transparent via-cyan-900/10 to-transparent cursor-pointer",onClick:()=>{j(e.id),p("viewer")},children:(0,t.jsxs)("div",{className:"flex justify-center items-center gap-1 text-[11px] text-gray-500 hover:text-cyan-400",children:[(0,t.jsx)(ep.A,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:"Ver detalhes"})]})})]},e.id)})}):(0,t.jsxs)("div",{className:"quantum-card-dense py-12 px-4 text-center",children:[(0,t.jsx)(N.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-600"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:S||"all"!==P?"Nenhum deck encontrado":"Nenhum deck criado"}),(0,t.jsx)("p",{className:"text-gray-500 text-sm mb-6",children:S||"all"!==P?"Tente ajustar seus filtros para encontrar o que procura":"Crie seu primeiro deck para come\xe7ar"}),!S&&"all"===P&&(0,t.jsxs)("button",{onClick:()=>f(!0),className:"quantum-btn primary mx-auto",children:[(0,t.jsx)(z.A,{className:"w-4 h-4 mr-2"}),"Criar Primeiro Deck"]})]}),s.length>0&&(0,t.jsxs)("div",{className:"quantum-card-dense mt-4 p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2 border-b border-cyan-500/20 pb-2",children:[(0,t.jsx)(en.A,{className:"w-4 h-4 text-cyan-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-200",children:"Estat\xedsticas R\xe1pidas"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[(0,t.jsxs)("div",{className:"bg-black/40 p-2 rounded text-center",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-cyan-400",children:s.length}),(0,t.jsx)("div",{className:"text-xs text-gray-400",children:"Total de Decks"})]}),(0,t.jsxs)("div",{className:"bg-black/40 p-2 rounded text-center",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-purple-400",children:s.reduce((e,s)=>e+s.cards.reduce((e,s)=>e+s.quantity,0),0)}),(0,t.jsx)("div",{className:"text-xs text-gray-400",children:"Total de Cartas"})]}),(0,t.jsxs)("div",{className:"bg-black/40 p-2 rounded text-center",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-green-400",children:new Set(s.map(e=>e.format)).size}),(0,t.jsx)("div",{className:"text-xs text-gray-400",children:"Formatos"})]}),(0,t.jsxs)("div",{className:"bg-black/40 p-2 rounded text-center",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-yellow-400",children:Math.round(s.reduce((e,s)=>e+s.cards.reduce((e,s)=>e+s.quantity,0),0)/Math.max(1,s.length))}),(0,t.jsx)("div",{className:"text-xs text-gray-400",children:"M\xe9dia de Cartas"})]})]})]}),(0,t.jsx)(ef.lG,{open:v,onOpenChange:f,children:(0,t.jsxs)(ef.Cf,{className:"quantum-card",children:[(0,t.jsx)(ef.c7,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eb.A,{className:"w-5 h-5 text-cyan-400"}),(0,t.jsx)("h2",{className:"text-lg font-medium text-white",children:"Criar Novo Deck"})]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-300",htmlFor:"name",children:"Nome do Deck*"}),(0,t.jsx)(r.p,{id:"name",value:A.name,onChange:e=>q({...A,name:e.target.value}),placeholder:"Nome do deck...",className:"bg-black/40 border-gray-700"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-300",htmlFor:"format",children:"Formato"}),(0,t.jsxs)(n.l6,{value:A.format,onValueChange:e=>q({...A,format:e}),children:[(0,t.jsx)(n.bq,{id:"format",className:"bg-black/40 border-gray-700",children:(0,t.jsx)(n.yv,{})}),(0,t.jsxs)(n.gC,{children:[(0,t.jsx)(n.eb,{value:"Standard",children:"Standard"}),(0,t.jsx)(n.eb,{value:"Modern",children:"Modern"}),(0,t.jsx)(n.eb,{value:"Commander",children:"Commander"}),(0,t.jsx)(n.eb,{value:"Pioneer",children:"Pioneer"}),(0,t.jsx)(n.eb,{value:"Legacy",children:"Legacy"}),(0,t.jsx)(n.eb,{value:"Vintage",children:"Vintage"}),(0,t.jsx)(n.eb,{value:"Pauper",children:"Pauper"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-300",children:"Cores"}),(0,t.jsx)("div",{className:"flex gap-2",children:[{color:"W",bg:"bg-yellow-300/80 text-black"},{color:"U",bg:"bg-blue-500/80 text-white"},{color:"B",bg:"bg-gray-900/80 text-white"},{color:"R",bg:"bg-red-500/80 text-white"},{color:"G",bg:"bg-green-500/80 text-white"}].map(e=>{let{color:s,bg:a}=e;return(0,t.jsx)("button",{onClick:()=>{let e=A.colors.includes(s)?A.colors.filter(e=>e!==s):[...A.colors,s];q({...A,colors:e})},className:"w-8 h-8 rounded-md flex items-center justify-center transition\n                      ".concat(A.colors.includes(s)?a+" ring-1 ring-white/40":"bg-gray-800 text-gray-400 hover:bg-gray-700"),children:s},s)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-300",htmlFor:"description",children:"Descri\xe7\xe3o (Opcional)"}),(0,t.jsx)(i.T,{id:"description",value:A.description,onChange:e=>q({...A,description:e.target.value}),placeholder:"Descreva a estrat\xe9gia do deck...",className:"bg-black/40 border-gray-700 h-20 resize-none"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,t.jsx)(c.$,{onClick:()=>f(!1),className:"quantum-btn",children:"Cancelar"}),(0,t.jsxs)(c.$,{onClick:()=>{if(!A.name.trim()){L("error","Nome do deck \xe9 obrigat\xf3rio");return}let e=a({name:A.name,format:A.format,colors:A.colors,cards:[],isPublic:!1,tags:[],description:A.description});q({name:"",format:"Standard",colors:[],description:""}),f(!1),L("success","Deck criado com sucesso!"),j(e),p("builder")},className:"quantum-btn primary",disabled:!A.name.trim(),children:[(0,t.jsx)(z.A,{className:"w-4 h-4 mr-2"}),"Criar Deck"]})]})]})]})}),(0,t.jsx)(ef.lG,{open:!!y,onOpenChange:e=>!e&&w(null),children:(0,t.jsxs)(ef.Cf,{className:"quantum-card",children:[(0,t.jsx)(ef.c7,{children:(0,t.jsx)("h2",{className:"text-lg font-medium text-red-400",children:"Excluir Deck"})}),y&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm text-gray-300 mb-4",children:["Tem certeza que deseja excluir o deck",(0,t.jsxs)("strong",{className:"text-white",children:[" ",null===(e=s.find(e=>e.id===y))||void 0===e?void 0:e.name]}),"? Esta a\xe7\xe3o n\xe3o pode ser desfeita."]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(c.$,{onClick:()=>w(null),className:"quantum-btn",children:"Cancelar"}),(0,t.jsxs)(c.$,{onClick:()=>F(y),className:"quantum-btn primary",style:{background:"rgba(239, 68, 68, 0.2)",borderColor:"#ef4444"},children:[(0,t.jsx)(H.A,{className:"w-4 h-4 mr-2"}),"Excluir Permanentemente"]})]})]})]})})]})}var e_=a(704);let eO=e_.bL,eG=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(e_.B8,{ref:s,className:(0,ea.cn)("inline-flex h-12 items-center justify-center rounded-lg bg-gray-100 p-1 text-gray-600 shadow-sm",a),...l})});eG.displayName=e_.B8.displayName;let e$=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(e_.l9,{ref:s,className:(0,ea.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-4 py-2 text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-blue-600 data-[state=active]:shadow-sm hover:text-gray-900",a),...l})});e$.displayName=e_.l9.displayName;let eU=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(e_.UC,{ref:s,className:(0,ea.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...l})});eU.displayName=e_.UC.displayName;var eH=a(5040),eZ=a(6341),eW=a(5525),eJ=a(299),eQ=a(3052),eK=a(3786),eY=a(4788);function eX(){let[e,s]=(0,l.useState)(""),[a,c]=(0,l.useState)("all"),[n,i]=(0,l.useState)(null),d=[{id:"all",name:"Todas",icon:eH.A},{id:"basic",name:"Regras B\xe1sicas",icon:G.A},{id:"turn",name:"Estrutura do Turno",icon:eh.A},{id:"combat",name:"Combate",icon:eZ.A},{id:"spell",name:"M\xe1gicas e Habilidades",icon:eb.A},{id:"permanent",name:"Permanentes",icon:eW.A},{id:"zone",name:"Zonas do Jogo",icon:el.A},{id:"multiplayer",name:"Multiplayer",icon:ei.A}],o=[{id:"1",title:"Como Jogar Magic",content:"Magic: The Gathering \xe9 um jogo de cartas estrat\xe9gico para dois ou mais jogadores. Cada jogador usa um deck personalizado de cartas Magic para derrotar seus oponentes.\n\n**Objetivo do Jogo:**\nReduza os pontos de vida dos seus oponentes de 20 para 0, ou fa\xe7a com que eles n\xe3o possam comprar cartas do pr\xf3prio deck.\n\n**Componentes B\xe1sicos:**\n- Deck de no m\xednimo 60 cartas\n- Pontos de vida (come\xe7am com 20)\n- Mana (recurso para jogar cartas)\n- Cinco cores de mana: Branco, Azul, Preto, Vermelho e Verde",category:"basic",difficulty:"B\xe1sico",tags:["iniciante","conceitos","objetivo"]},{id:"2",title:"Estrutura do Turno",content:"Cada turno \xe9 dividido em fases espec\xedficas que devem ser seguidas em ordem:\n\n**1. Fase Inicial (Beginning Phase):**\n- Desvirar (Untap Step)\n- Manuten\xe7\xe3o (Upkeep Step) \n- Compra (Draw Step)\n\n**2. Fase Principal 1 (First Main Phase):**\n- Jogue terrenos, m\xe1gicas e ative habilidades\n\n**3. Fase de Combate (Combat Phase):**\n- Declarar atacantes\n- Declarar bloqueadores\n- Resolver dano\n\n**4. Fase Principal 2 (Second Main Phase):**\n- Mesmas a\xe7\xf5es da Fase Principal 1\n\n**5. Fase Final (Ending Phase):**\n- Final do turno\n- Limpeza",category:"turn",difficulty:"B\xe1sico",tags:["turno","fases","sequ\xeancia"]},{id:"3",title:"Sistema de Mana",content:"Mana \xe9 o recurso usado para pagar o custo das m\xe1gicas. Existem cinco cores de mana:\n\n**\uD83E\uDD0D Branco (W):** \n- Prote\xe7\xe3o, cura, ordem\n- Criaturas pequenas eficientes\n- Remo\xe7\xe3o de amea\xe7as\n\n**\uD83D\uDD35 Azul (U):**\n- Compra de cartas, contram\xe1gicas\n- Controle e manipula\xe7\xe3o\n- Criaturas voadoras\n\n**⚫ Preto (B):**\n- Destrui\xe7\xe3o, sacrif\xedcio\n- Poder atrav\xe9s de custos\n- Criaturas com deathtouch\n\n**\uD83D\uDD34 Vermelho (R):**\n- Dano direto, velocidade\n- Emo\xe7\xe3o e caos\n- Criaturas agressivas\n\n**\uD83D\uDFE2 Verde (G):**\n- Criaturas grandes, mana\n- Natureza e crescimento\n- Acelera\xe7\xe3o de mana",category:"basic",difficulty:"B\xe1sico",tags:["mana","cores","recursos"]},{id:"4",title:"Tipos de Cartas",content:"Existem v\xe1rios tipos de cartas em Magic:\n\n**Terrenos (Lands):**\n- Produzem mana\n- Podem ser jogados uma vez por turno\n- N\xe3o custam mana para jogar\n\n**Criaturas (Creatures):**\n- Podem atacar e bloquear\n- T\xeam poder e resist\xeancia\n- Permanentes no campo de batalha\n\n**M\xe1gicas Instant\xe2neas (Instants):**\n- Podem ser jogadas a qualquer momento\n- V\xe3o para o cemit\xe9rio ap\xf3s resolverem\n- Efeitos imediatos\n\n**Feiti\xe7os (Sorceries):**\n- S\xf3 podem ser jogadas na sua fase principal\n- V\xe3o para o cemit\xe9rio ap\xf3s resolverem\n- Efeitos \xfanicos\n\n**Encantamentos (Enchantments):**\n- Permanentes com efeitos cont\xednuos\n- Ficam no campo at\xe9 serem removidos\n\n**Artefatos (Artifacts):**\n- Objetos m\xe1gicos\n- Geralmente t\xeam custos incolores\n- Efeitos variados\n\n**Planeswalkers:**\n- Aliados poderosos\n- T\xeam pontos de lealdade\n- Habilidades ativ\xe1veis",category:"basic",difficulty:"Intermedi\xe1rio",tags:["tipos","cartas","permanentes"]},{id:"5",title:"Combate Detalhado",content:"O combate \xe9 dividido em v\xe1rias etapas:\n\n**1. In\xedcio do Combate:**\n- Oportunidade para jogar m\xe1gicas\n- Habilidades que ativam no in\xedcio do combate\n\n**2. Declarar Atacantes:**\n- Escolha quais criaturas atacam\n- Vire as criaturas atacantes\n- Habilidades que ativam ao atacar\n\n**3. Declarar Bloqueadores:**\n- Defensor escolhe como bloquear\n- Uma criatura pode bloquear um atacante\n- M\xfaltiplas criaturas podem bloquear um atacante\n\n**4. Dano de Combate:**\n- Criaturas aplicam dano igual ao poder\n- Dano acontece simultaneamente\n- Criaturas com deathtouch destroem com qualquer dano\n\n**5. Final do Combate:**\n- \xdaltimas oportunidades para m\xe1gicas\n- Habilidades de final de combate",category:"combat",difficulty:"Intermedi\xe1rio",tags:["combate","atacar","bloquear","dano"]},{id:"6",title:"A Pilha (Stack)",content:"A pilha \xe9 onde m\xe1gicas e habilidades esperam para resolver:\n\n**Como Funciona:**\n- \xdaltima m\xe1gica/habilidade a entrar \xe9 a primeira a resolver (LIFO)\n- Jogadores podem responder adicionando mais \xe0 pilha\n- Quando todos passam, o item do topo resolve\n\n**Exemplo:**\n1. Jogador A joga Lightning Bolt\n2. Jogador B responde com Counterspell\n3. Jogador A responde com Red Elemental Blast\n4. Resolve: Red Elemental Blast → Counterspell → Lightning Bolt\n\n**Dicas Importantes:**\n- Mana permanece no pool durante resolu\xe7\xe3o\n- Voc\xea pode responder \xe0s suas pr\xf3prias m\xe1gicas\n- Algumas habilidades n\xe3o usam a pilha (mana abilities)",category:"spell",difficulty:"Avan\xe7ado",tags:["pilha","stack","resolu\xe7\xe3o","resposta"]}],x=[{icon:em.A,title:"Pontos de Vida",desc:"Comece com 20, chegue a 0 e perde"},{icon:eh.A,title:"Limite de M\xe3o",desc:"M\xe1ximo de 7 cartas na m\xe3o"},{icon:el.A,title:"Terrenos por Turno",desc:"Apenas 1 terreno por turno"},{icon:eb.A,title:"Velocidade da M\xe1gica",desc:"Instant\xe2neas podem ser jogadas a qualquer momento"}],u=o.filter(s=>{let t=e.toLowerCase(),l=(0,P.b)(t).toLowerCase(),r=s.title.toLowerCase().includes(t)||s.content.toLowerCase().includes(t)||s.tags.some(e=>e.toLowerCase().includes(t))||l!==t&&(s.title.toLowerCase().includes(l)||s.content.toLowerCase().includes(l)||s.tags.some(e=>e.toLowerCase().includes(l))),c="all"===a||s.category===a;return r&&c}),g=e=>{console.log("Toggle favorite for rule:",e)};return(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"quantum-card-dense p-4 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eH.A,{className:"w-5 h-5 text-orange-400"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Regras do Magic"}),(0,t.jsxs)("span",{className:"quantum-badge primary",children:[o.length," regras"]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Consulte regras e refer\xeancias do Magic: The Gathering"})]}),(0,t.jsxs)(eO,{defaultValue:"regras",className:"w-full",children:[(0,t.jsx)("div",{className:"quantum-card-dense mb-4 p-1",children:(0,t.jsxs)(eG,{className:"bg-transparent flex w-full gap-1",children:[(0,t.jsxs)(e$,{value:"regras",className:"quantum-tab flex-1",children:[(0,t.jsx)(eH.A,{className:"w-3.5 h-3.5 mr-1"}),(0,t.jsx)("span",{className:"text-xs",children:"Regras"})]}),(0,t.jsxs)(e$,{value:"rapidas",className:"quantum-tab flex-1",children:[(0,t.jsx)(eb.A,{className:"w-3.5 h-3.5 mr-1"}),(0,t.jsx)("span",{className:"text-xs",children:"Refer\xeancia"})]}),(0,t.jsxs)(e$,{value:"glossario",className:"quantum-tab flex-1",children:[(0,t.jsx)(eJ.A,{className:"w-3.5 h-3.5 mr-1"}),(0,t.jsx)("span",{className:"text-xs",children:"Gloss\xe1rio"})]})]})}),(0,t.jsx)(eU,{value:"regras",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"md:col-span-1",children:[(0,t.jsx)("div",{className:"quantum-card-dense p-3 mb-3",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(h.A,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 w-3.5 h-3.5 text-gray-400"}),(0,t.jsx)(r.p,{placeholder:"Buscar regras...",value:e,onChange:e=>s(e.target.value),className:"pl-8 h-8 text-sm bg-black/40 border-gray-700"})]})}),(0,t.jsxs)("div",{className:"quantum-card-dense p-3",children:[(0,t.jsxs)("h3",{className:"text-sm font-medium text-gray-300 mb-2 flex items-center gap-1.5",children:[(0,t.jsx)(el.A,{className:"w-3.5 h-3.5 text-cyan-400"}),"Categorias"]}),(0,t.jsx)("div",{className:"space-y-1",children:d.map(e=>{let s=e.icon;return(0,t.jsxs)("button",{onClick:()=>c(e.id),className:"w-full flex items-center gap-1.5 text-xs p-1.5 rounded-sm transition-colors\n                          ".concat(a===e.id?"bg-cyan-500/20 text-cyan-400":"hover:bg-gray-800 text-gray-400"),children:[(0,t.jsx)(s,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:e.name})]},e.id)})})]})]}),(0,t.jsx)("div",{className:"md:col-span-3",children:n?(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsxs)("div",{className:"p-3 border-b border-gray-800",children:[(0,t.jsx)("div",{className:"mb-2",children:(0,t.jsx)("button",{onClick:()=>i(null),className:"flex items-center text-xs text-gray-400 hover:text-cyan-400 transition-colors",children:"← Voltar \xe0s regras"})}),(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-medium text-white",children:n.title}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,t.jsx)(m.E,{className:"h-5 text-[10px] ".concat("B\xe1sico"===n.difficulty?"bg-green-600/30 text-green-400 hover:bg-green-600/40":"Intermedi\xe1rio"===n.difficulty?"bg-yellow-600/30 text-yellow-400 hover:bg-yellow-600/40":"bg-red-600/30 text-red-400 hover:bg-red-600/40"),children:n.difficulty}),n.tags.map(e=>(0,t.jsx)(m.E,{className:"bg-gray-800 text-gray-300 hover:bg-gray-700 h-5 text-[10px]",children:e},e))]})]}),(0,t.jsx)("button",{onClick:()=>g(n.id),className:"p-1 text-gray-500 hover:text-yellow-400 transition-colors",children:(0,t.jsx)(G.A,{className:"w-4 h-4"})})]})]}),(0,t.jsx)("div",{className:"p-3",children:(0,t.jsx)("div",{className:"prose prose-invert max-w-none text-sm",children:(0,t.jsx)("div",{className:"whitespace-pre-wrap",children:n.content})})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsxs)("h2",{className:"text-sm text-gray-400",children:[u.length," regra",1!==u.length?"s":""," encontrada",1!==u.length?"s":""]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-3",children:u.map(e=>(0,t.jsxs)("div",{className:"quantum-card-dense hover-highlight cursor-pointer",onClick:()=>i(e),children:[(0,t.jsxs)("div",{className:"p-3 border-b border-gray-800",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("h3",{className:"font-medium text-white text-sm",children:e.title}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("button",{onClick:s=>{s.stopPropagation(),g(e.id)},className:"text-gray-500 hover:text-yellow-400 transition-colors",children:(0,t.jsx)(G.A,{className:"w-3.5 h-3.5"})}),(0,t.jsx)(eQ.A,{className:"w-3.5 h-3.5 text-gray-500"})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2 mt-2",children:(0,t.jsx)(m.E,{className:"h-4 text-[10px] ".concat("B\xe1sico"===e.difficulty?"bg-green-600/30 text-green-400 hover:bg-green-600/40":"Intermedi\xe1rio"===e.difficulty?"bg-yellow-600/30 text-yellow-400 hover:bg-yellow-600/40":"bg-red-600/30 text-red-400 hover:bg-red-600/40"),children:e.difficulty})})]}),(0,t.jsxs)("div",{className:"p-3",children:[(0,t.jsxs)("p",{className:"text-gray-400 text-xs line-clamp-2",children:[e.content.substring(0,120),"..."]}),(0,t.jsxs)("div",{className:"flex gap-1 mt-2",children:[e.tags.slice(0,2).map(e=>(0,t.jsx)(m.E,{className:"bg-gray-800 text-gray-300 hover:bg-gray-700 h-4 text-[10px]",children:e},e)),e.tags.length>2&&(0,t.jsxs)("span",{className:"text-[10px] text-gray-500 self-center",children:["+",e.tags.length-2]})]})]})]},e.id))})]})})]})}),(0,t.jsxs)(eU,{value:"rapidas",className:"space-y-4",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:x.map((e,s)=>{let a=e.icon;return(0,t.jsx)("div",{className:"quantum-card-dense p-3",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gray-800 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(a,{className:"w-4 h-4 text-cyan-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-white text-sm mb-1",children:e.title}),(0,t.jsx)("p",{className:"text-gray-400 text-xs",children:e.desc})]})]})},s)})}),(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsxs)("div",{className:"p-3 border-b border-gray-800",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eg.A,{className:"w-4 h-4 text-cyan-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"Cores de Mana"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Identidade e caracter\xedsticas de cada cor"})]}),(0,t.jsx)("div",{className:"p-3",children:(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[{color:"Branco",symbol:"W",bg:"from-yellow-400 to-orange-500",theme:"Ordem, prote\xe7\xe3o"},{color:"Azul",symbol:"U",bg:"from-blue-500 to-cyan-600",theme:"Conhecimento, controle"},{color:"Preto",symbol:"B",bg:"from-gray-700 to-gray-900",theme:"Poder, sacrif\xedcio"},{color:"Vermelho",symbol:"R",bg:"from-red-500 to-orange-600",theme:"Emo\xe7\xe3o, caos"},{color:"Verde",symbol:"G",bg:"from-green-500 to-emerald-600",theme:"Natureza, vida"}].map(e=>(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br ".concat(e.bg," rounded-lg flex items-center justify-center mx-auto mb-2 text-white font-bold text-sm"),children:e.symbol}),(0,t.jsx)("h4",{className:"font-medium text-white text-xs mb-1",children:e.color}),(0,t.jsx)("p",{className:"text-gray-400 text-[10px]",children:e.theme})]},e.symbol))})})]})]}),(0,t.jsxs)(eU,{value:"glossario",className:"space-y-4",children:[(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsxs)("div",{className:"p-3 border-b border-gray-800",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eJ.A,{className:"w-4 h-4 text-cyan-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"Gloss\xe1rio de Termos"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Defini\xe7\xf5es dos termos mais importantes"})]}),(0,t.jsx)("div",{className:"p-3",children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[{term:"CMC (Custo de Mana Convertido)",def:"O custo total de mana necess\xe1rio para jogar uma m\xe1gica"},{term:"Deathtouch",def:"Qualquer quantidade de dano desta criatura destr\xf3i uma criatura"},{term:"Flying (Voar)",def:"Esta criatura s\xf3 pode ser bloqueada por criaturas com flying ou reach"},{term:"Haste (\xcdmpeto)",def:"Esta criatura pode atacar no turno que entra em jogo"},{term:"Lifelink",def:"O dano causado por esta criatura tamb\xe9m ganha pontos de vida"},{term:"Reach (Alcance)",def:"Esta criatura pode bloquear criaturas com flying"},{term:"Trample (Atropelar)",def:"Dano excessivo no combate pode ser aplicado ao defensor"},{term:"Vigilance (Vigil\xe2ncia)",def:"Atacar n\xe3o faz esta criatura virar"}].map((e,s)=>(0,t.jsxs)("div",{className:"p-2 bg-gray-800/30 rounded-md border border-gray-700/50",children:[(0,t.jsx)("h4",{className:"font-medium text-white text-xs mb-1",children:e.term}),(0,t.jsx)("p",{className:"text-gray-400 text-[11px]",children:e.def})]},s))})})]}),(0,t.jsxs)("div",{className:"quantum-card-dense p-3",children:[(0,t.jsxs)("h3",{className:"text-sm font-medium text-white mb-3 flex items-center gap-1.5",children:[(0,t.jsx)(ec.A,{className:"w-3.5 h-3.5 text-cyan-400"}),"Recursos Externos"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[(0,t.jsxs)("button",{className:"p-2 bg-gray-800/30 rounded-md hover:bg-gray-800 transition-colors flex items-center gap-2",children:[(0,t.jsx)(eK.A,{className:"w-3.5 h-3.5 text-cyan-400"}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("h4",{className:"text-xs font-medium text-white",children:"Regras Oficiais"}),(0,t.jsx)("p",{className:"text-[10px] text-gray-400",children:"Comprehensive Rules"})]})]}),(0,t.jsxs)("button",{className:"p-2 bg-gray-800/30 rounded-md hover:bg-gray-800 transition-colors flex items-center gap-2",children:[(0,t.jsx)(eY.A,{className:"w-3.5 h-3.5 text-cyan-400"}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("h4",{className:"text-xs font-medium text-white",children:"Judge Chat"}),(0,t.jsx)("p",{className:"text-[10px] text-gray-400",children:"Tire suas d\xfavidas"})]})]}),(0,t.jsxs)("button",{className:"p-2 bg-gray-800/30 rounded-md hover:bg-gray-800 transition-colors flex items-center gap-2",children:[(0,t.jsx)(eH.A,{className:"w-3.5 h-3.5 text-cyan-400"}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("h4",{className:"text-xs font-medium text-white",children:"Gatherer"}),(0,t.jsx)("p",{className:"text-[10px] text-gray-400",children:"Base de dados oficial"})]})]})]})]})]})]})]})}var e0=a(4011);let e4=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(e0.bL,{ref:s,className:(0,ea.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...l})});e4.displayName=e0.bL.displayName;let e1=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(e0._V,{ref:s,className:(0,ea.cn)("aspect-square h-full w-full",a),...l})});e1.displayName=e0._V.displayName;let e3=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(e0.H4,{ref:s,className:(0,ea.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...l})});e3.displayName=e0.H4.displayName;var e2=a(8698),e5=a(5196),e6=a(9428);let e8=e2.bL,e7=e2.l9;e2.YJ,e2.ZL,e2.Pb,e2.z6,l.forwardRef((e,s)=>{let{className:a,inset:l,children:r,...c}=e;return(0,t.jsxs)(e2.ZP,{ref:s,className:(0,ea.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",l&&"pl-8",a),...c,children:[r,(0,t.jsx)(eQ.A,{className:"ml-auto h-4 w-4"})]})}).displayName=e2.ZP.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(e2.G5,{ref:s,className:(0,ea.cn)("z-50 min-w-[8rem] rounded-lg text-card-foreground bg-gray-800/80 backdrop-blur-xl shadow-2xl overflow-hidden border-0 p-1 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})}).displayName=e2.G5.displayName;let e9=l.forwardRef((e,s)=>{let{className:a,sideOffset:l=4,...r}=e;return(0,t.jsx)(e2.ZL,{children:(0,t.jsx)(e2.UC,{ref:s,sideOffset:l,className:(0,ea.cn)("z-50 min-w-[8rem] rounded-lg text-card-foreground bg-gray-800/80 backdrop-blur-xl shadow-2xl overflow-hidden border-0 p-1 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})})});e9.displayName=e2.UC.displayName;let se=l.forwardRef((e,s)=>{let{className:a,inset:l,...r}=e;return(0,t.jsx)(e2.q7,{ref:s,className:(0,ea.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",l&&"pl-8",a),...r})});se.displayName=e2.q7.displayName,l.forwardRef((e,s)=>{let{className:a,children:l,checked:r,...c}=e;return(0,t.jsxs)(e2.H_,{ref:s,className:(0,ea.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:r,...c,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(e2.VF,{children:(0,t.jsx)(e5.A,{className:"h-4 w-4"})})}),l]})}).displayName=e2.H_.displayName,l.forwardRef((e,s)=>{let{className:a,children:l,...r}=e;return(0,t.jsxs)(e2.hN,{ref:s,className:(0,ea.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(e2.VF,{children:(0,t.jsx)(e6.A,{className:"h-2 w-2 fill-current"})})}),l]})}).displayName=e2.hN.displayName;let ss=l.forwardRef((e,s)=>{let{className:a,inset:l,...r}=e;return(0,t.jsx)(e2.JU,{ref:s,className:(0,ea.cn)("px-2 py-1.5 text-sm font-semibold",l&&"pl-8",a),...r})});ss.displayName=e2.JU.displayName;let sa=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(e2.wv,{ref:s,className:(0,ea.cn)("-mx-1 my-1 h-px bg-muted",a),...l})});sa.displayName=e2.wv.displayName;var st=a(1007),sl=a(306),sr=a(2318),sc=a(1264),sn=a(2919),si=a(8749),sd=a(8126),so=a(9099);function sm(e){let{isOpen:s,setIsOpen:a,onLogin:c}=e,[n,i]=(0,l.useState)("login"),[d,o]=(0,l.useState)(!1),[m,x]=(0,l.useState)({email:"",password:""}),[h,u]=(0,l.useState)({name:"",email:"",password:"",confirmPassword:""}),[g,j]=(0,l.useState)(!1),[b,p]=(0,l.useState)(""),N=async e=>{e.preventDefault(),j(!0),p(""),setTimeout(()=>{m.email&&m.password?(c({id:"1",name:m.email.split("@")[0],email:m.email,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=".concat(m.email),joinedAt:new Date().toISOString(),collectionsCount:3,totalCards:1247,achievements:["Primeiro Deck Criado","Colecionador Iniciante","Explorador de Cores"]}),a(!1),x({email:"",password:""})):p("Por favor, preencha todos os campos"),j(!1)},1500)},v=async e=>{if(e.preventDefault(),j(!0),p(""),h.password!==h.confirmPassword){p("As senhas n\xe3o coincidem"),j(!1);return}setTimeout(()=>{h.name&&h.email&&h.password?(c({id:"1",name:h.name,email:h.email,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=".concat(h.email),joinedAt:new Date().toISOString(),collectionsCount:0,totalCards:0,achievements:["Bem-vindo ao MTG Helper!"]}),a(!1),u({name:"",email:"",password:"",confirmPassword:""})):p("Por favor, preencha todos os campos"),j(!1)},1500)},f=e=>{j(!0),setTimeout(()=>{c({id:"1",name:"Usu\xe1rio ".concat(e),email:"usuario@".concat(e,".com"),avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=".concat(e),joinedAt:new Date().toISOString(),collectionsCount:2,totalCards:856,achievements:["Login Social","Colecionador Iniciante"]}),a(!1),j(!1)},1e3)};return(0,t.jsx)(ef.lG,{open:s,onOpenChange:a,children:(0,t.jsxs)(ef.Cf,{className:"sm:max-w-md mtg-modal",children:[(0,t.jsx)(ef.c7,{children:(0,t.jsxs)(ef.L3,{className:"text-center text-2xl text-white mb-6",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-600 to-purple-700 flex items-center justify-center mb-4 mx-auto shadow-xl",children:(0,t.jsx)(st.A,{className:"w-8 h-8 text-white"})}),"Entrar no MTG Helper"]})}),(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("div",{className:"mtg-tabs mb-6",children:[(0,t.jsxs)("button",{onClick:()=>i("login"),className:"mtg-tab ".concat("login"===n?"mtg-tab-active":""),children:[(0,t.jsx)(sl.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Entrar"})]}),(0,t.jsxs)("button",{onClick:()=>i("register"),className:"mtg-tab ".concat("register"===n?"mtg-tab-active":""),children:[(0,t.jsx)(sr.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Criar Conta"})]})]}),"login"===n&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("form",{onSubmit:N,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Email"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(sc.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)(r.p,{type:"email",placeholder:"seu@email.com",value:m.email,onChange:e=>x(s=>({...s,email:e.target.value})),className:"mtg-input pl-10",required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Senha"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(sn.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)(r.p,{type:d?"text":"password",placeholder:"••••••••",value:m.password,onChange:e=>x(s=>({...s,password:e.target.value})),className:"mtg-input pl-10 pr-10",required:!0}),(0,t.jsx)("button",{type:"button",onClick:()=>o(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-white transition-colors",children:d?(0,t.jsx)(si.A,{className:"w-4 h-4"}):(0,t.jsx)(ep.A,{className:"w-4 h-4"})})]})]}),b&&(0,t.jsx)("div",{className:"text-red-400 text-sm text-center bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:b}),(0,t.jsx)("button",{type:"submit",className:"mtg-button mtg-button-primary w-full",disabled:g,children:g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}),(0,t.jsx)("span",{children:"Entrando..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(sl.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Entrar"})]})})]}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{className:"text-blue-400 hover:text-blue-300 text-sm transition-colors",children:"Esqueceu sua senha?"})})]}),"register"===n&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Nome"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(st.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)(r.p,{type:"text",placeholder:"Seu nome",value:h.name,onChange:e=>u(s=>({...s,name:e.target.value})),className:"mtg-input pl-10",required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Email"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(sc.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)(r.p,{type:"email",placeholder:"seu@email.com",value:h.email,onChange:e=>u(s=>({...s,email:e.target.value})),className:"mtg-input pl-10",required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Senha"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(sn.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)(r.p,{type:"password",placeholder:"••••••••",value:h.password,onChange:e=>u(s=>({...s,password:e.target.value})),className:"mtg-input pl-10",required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mtg-label",children:"Confirmar Senha"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(sn.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)(r.p,{type:"password",placeholder:"••••••••",value:h.confirmPassword,onChange:e=>u(s=>({...s,confirmPassword:e.target.value})),className:"mtg-input pl-10",required:!0})]})]}),b&&(0,t.jsx)("div",{className:"text-red-400 text-sm text-center bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:b}),(0,t.jsx)("button",{type:"submit",className:"mtg-button mtg-button-success w-full",disabled:g,children:g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}),(0,t.jsx)("span",{children:"Criando conta..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(sr.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Criar Conta"})]})})]})}),(0,t.jsxs)("div",{className:"relative my-8",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)("span",{className:"w-full border-t border-slate-700"})}),(0,t.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,t.jsx)("span",{className:"bg-slate-900 px-3 text-slate-400",children:"Ou continue com"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[(0,t.jsxs)("button",{onClick:()=>f("google"),disabled:g,className:"mtg-button mtg-button-secondary",children:[(0,t.jsx)(sd.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Google"})]}),(0,t.jsxs)("button",{onClick:()=>f("github"),disabled:g,className:"mtg-button mtg-button-secondary",children:[(0,t.jsx)(so.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"GitHub"})]})]}),(0,t.jsxs)("div",{className:"text-center text-xs text-slate-500",children:["Ao continuar, voc\xea concorda com nossos"," ",(0,t.jsx)("button",{className:"text-blue-400 hover:text-blue-300 underline",children:"Termos de Uso"})," ","e"," ",(0,t.jsx)("button",{className:"text-blue-400 hover:text-blue-300 underline",children:"Pol\xedtica de Privacidade"})]})]})]})})}var sx=a(3861),sh=a(7951),su=a(4835);function sg(e){let{user:s,onLogin:a,onLogout:r}=e,[n,i]=(0,l.useState)(!1);return s?(0,t.jsxs)("div",{className:"flex items-center gap-3 lg:gap-6",children:[(0,t.jsxs)("div",{className:"hidden lg:flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 px-4 py-2 rounded-xl bg-slate-800/50 border border-slate-700/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(er.A,{className:"w-4 h-4 text-blue-400"}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-sm font-semibold text-white",children:s.collectionsCount||0}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"cole\xe7\xf5es"})]})]}),(0,t.jsx)("div",{className:"w-px h-8 bg-slate-700"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(G.A,{className:"w-4 h-4 text-purple-400"}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-sm font-semibold text-white",children:s.totalCards||0}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"cartas"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{className:"w-10 h-10 rounded-xl bg-slate-800/50 border border-slate-700/50 hover:bg-slate-700/50 hover:border-slate-600 transition-all flex items-center justify-center",children:(0,t.jsx)(sx.A,{className:"w-4 h-4 text-slate-400"})}),(0,t.jsx)("button",{className:"w-10 h-10 rounded-xl bg-slate-800/50 border border-slate-700/50 hover:bg-slate-700/50 hover:border-slate-600 transition-all flex items-center justify-center",children:(0,t.jsx)(V.A,{className:"w-4 h-4 text-slate-400"})})]})]}),(0,t.jsxs)(e8,{children:[(0,t.jsx)(e7,{asChild:!0,children:(0,t.jsxs)(c.$,{variant:"ghost",className:"mtg-user-trigger",children:[(0,t.jsxs)(e4,{className:"w-10 h-10 ring-2 ring-slate-700",children:[(0,t.jsx)(e1,{src:s.avatar,alt:s.name}),(0,t.jsx)(e3,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white font-bold",children:s.name.charAt(0).toUpperCase()})]}),(0,t.jsxs)("div",{className:"hidden md:block text-left",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-white",children:s.name}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"Online"})]}),(0,t.jsx)(b.A,{className:"w-4 h-4 text-slate-400 hidden md:block"})]})}),(0,t.jsxs)(e9,{className:"mtg-dropdown mtg-user-menu",align:"end",sideOffset:8,children:[(0,t.jsx)(ss,{className:"pb-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)(e4,{className:"w-14 h-14 ring-2 ring-blue-500/30",children:[(0,t.jsx)(e1,{src:s.avatar,alt:s.name}),(0,t.jsx)(e3,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white font-bold text-lg",children:s.name.charAt(0).toUpperCase()})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"font-semibold text-white text-base",children:s.name}),(0,t.jsx)("p",{className:"text-sm text-slate-400 truncate",children:s.email}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,t.jsxs)("div",{className:"mtg-status mtg-status-success",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Online"]}),(0,t.jsx)("div",{className:"mtg-badge mtg-badge-primary text-xs",children:"PRO"})]})]})]})}),(0,t.jsx)(sa,{className:"bg-slate-700"}),(0,t.jsx)("div",{className:"px-2 py-4",children:(0,t.jsxs)("div",{className:"mtg-grid-2 gap-3",children:[(0,t.jsxs)("div",{className:"text-center p-3 rounded-xl bg-blue-500/10 border border-blue-500/20",children:[(0,t.jsx)("div",{className:"flex items-center justify-center gap-1 mb-1",children:(0,t.jsx)(er.A,{className:"w-4 h-4 text-blue-400"})}),(0,t.jsx)("div",{className:"text-xl font-bold text-blue-400",children:s.collectionsCount||0}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"Cole\xe7\xf5es"})]}),(0,t.jsxs)("div",{className:"text-center p-3 rounded-xl bg-purple-500/10 border border-purple-500/20",children:[(0,t.jsx)("div",{className:"flex items-center justify-center gap-1 mb-1",children:(0,t.jsx)(G.A,{className:"w-4 h-4 text-purple-400"})}),(0,t.jsx)("div",{className:"text-xl font-bold text-purple-400",children:s.totalCards||0}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"Cartas"})]})]})}),s.achievements&&s.achievements.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(sa,{className:"bg-slate-700"}),(0,t.jsxs)("div",{className:"px-2 py-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(sh.A,{className:"w-4 h-4 text-yellow-400"}),(0,t.jsx)("span",{className:"font-medium text-slate-200",children:"Conquistas Recentes"})]}),(0,t.jsx)("div",{className:"space-y-2",children:s.achievements.slice(0,2).map((e,s)=>(0,t.jsxs)("div",{className:"mtg-achievement-compact",children:[(0,t.jsx)("div",{className:"w-7 h-7 rounded-lg bg-yellow-500/20 flex items-center justify-center",children:(0,t.jsx)(er.A,{className:"w-4 h-4 text-yellow-400"})}),(0,t.jsx)("span",{className:"text-sm text-slate-300 flex-1 font-medium",children:e})]},s))})]})]}),(0,t.jsx)(sa,{className:"bg-slate-700"}),(0,t.jsxs)("div",{className:"py-2",children:[(0,t.jsxs)(se,{className:"mtg-dropdown-item",children:[(0,t.jsx)(st.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Meu Perfil"})]}),(0,t.jsxs)(se,{className:"mtg-dropdown-item",children:[(0,t.jsx)(en.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Analytics"})]}),(0,t.jsxs)(se,{className:"mtg-dropdown-item",children:[(0,t.jsx)(ei.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Comunidade"})]}),(0,t.jsxs)(se,{className:"mtg-dropdown-item",children:[(0,t.jsx)(V.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Configura\xe7\xf5es"})]})]}),(0,t.jsx)(sa,{className:"bg-slate-700"}),(0,t.jsx)("div",{className:"py-2",children:(0,t.jsxs)(se,{className:"mtg-dropdown-item text-red-400 hover:bg-red-500/20 focus:bg-red-500/20",onClick:r,children:[(0,t.jsx)(su.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Sair"})]})})]})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{onClick:()=>i(!0),className:"mtg-button mtg-button-primary",children:[(0,t.jsx)(st.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Entrar"})]}),(0,t.jsx)(sm,{isOpen:n,setIsOpen:i,onLogin:a})]})}var sj=a(4783),sb=a(7340);let sp=e=>{var s,a;let{user:r,activeTab:c,onTabChange:n,onLogout:i}=e,[d,o]=(0,l.useState)(!1),[m,x]=(0,l.useState)(!1),[u,g]=(0,l.useState)(!1),j=[{id:"painel",label:"Dashboard",icon:M.A},{id:"colecao",label:"Cole\xe7\xe3o",icon:O.A},{id:"decks",label:"Deck Builder",icon:eF.A},{id:"regras",label:"Regras",icon:eH.A},{id:"extras",label:"Recursos",icon:eg.A}];(0,l.useEffect)(()=>{let e=()=>{x(window.scrollY>10),g(window.scrollY>300)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),(0,l.useEffect)(()=>(d?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[d]);let b=e=>{n(e),o(!1)},[p]=(0,l.useState)(2),[N,v]=(0,l.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("header",{className:"mobile-header ".concat(m?"mobile-header-scrolled":""," mobile-header-animate-in"),children:[(0,t.jsxs)("div",{className:"mobile-header-container mobile-header-content-animate",children:[(0,t.jsxs)("div",{className:"mobile-logo-container",children:[(0,t.jsx)("div",{className:"mobile-logo-badge",onClick:()=>n("painel"),children:(0,t.jsx)("span",{className:"relative z-10",children:"MTG"})}),(0,t.jsxs)("div",{className:"mobile-logo-text",children:[(0,t.jsx)("span",{className:"mobile-logo-title",children:"MTG Helper"}),(0,t.jsx)("span",{className:"mobile-logo-subtitle",children:"Collection Manager"})]})]}),(0,t.jsxs)("button",{className:"mobile-nav-toggle",onClick:()=>o(!0),"aria-label":"Abrir menu de navega\xe7\xe3o",children:[(0,t.jsx)(sj.A,{size:20}),r&&r.totalCards>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-indigo-500 rounded-full"})]})]}),(0,t.jsxs)("div",{className:"mobile-subheader mobile-header-content-animate",style:{animationDelay:"0.1s"},children:[(0,t.jsxs)("div",{className:"mobile-subheader-title",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:[(null===(s=j.find(e=>e.id===c))||void 0===s?void 0:s.icon)&&(0,t.jsx)("div",{className:"mobile-subheader-icon",children:(()=>{var e;let s=(null===(e=j.find(e=>e.id===c))||void 0===e?void 0:e.icon)||sb.A;return(0,t.jsx)(s,{size:18,className:"text-indigo-400"})})()}),(0,t.jsx)("span",{children:(null===(a=j.find(e=>e.id===c))||void 0===a?void 0:a.label)||"In\xedcio"})]}),(0,t.jsxs)("div",{className:"mobile-subheader-actions",children:[(0,t.jsxs)("button",{className:"mobile-subheader-button ".concat(N?"bg-blue-900/40 text-blue-400":""),"aria-label":"Pesquisar",onClick:()=>v(!N),children:[(0,t.jsx)(h.A,{size:16}),N&&(0,t.jsx)("span",{className:"absolute inset-0 bg-blue-500/10 animate-pulse rounded-full"})]}),(0,t.jsxs)("button",{className:"mobile-subheader-button relative","aria-label":"Notifica\xe7\xf5es",onClick:()=>alert("Notifica\xe7\xf5es em breve!"),children:[(0,t.jsx)(sx.A,{size:16}),p>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-indigo-600 rounded-full flex items-center justify-center text-[10px] text-white font-bold border border-indigo-900",children:p})]})]})]}),N&&(0,t.jsx)("div",{className:"p-2 bg-gray-900/70 border-t border-indigo-500/20 animate-fadeIn",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",placeholder:"Pesquisar cartas...",className:"w-full px-3 py-2 bg-gray-800 border border-indigo-500/30 rounded-md text-sm text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500/50",autoFocus:!0}),(0,t.jsx)("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400",children:(0,t.jsx)(h.A,{size:14})})]})})]}),(0,t.jsx)("div",{className:"mobile-nav-overlay ".concat(d?"active":""),onClick:()=>o(!1),style:{backdropFilter:"blur(3px)"}}),(0,t.jsxs)("nav",{className:"mobile-nav-menu ".concat(d?"open":""),children:[(0,t.jsxs)("div",{className:"mobile-menu-header",children:[(0,t.jsxs)("div",{className:"mobile-menu-title",children:["Menu Principal",(0,t.jsx)("div",{className:"text-xs font-normal text-indigo-300 mt-1",children:"Vers\xe3o 1.2.0"})]}),(0,t.jsx)("button",{className:"mobile-menu-close interactive-header-element",onClick:()=>o(!1),"aria-label":"Fechar menu",children:(0,t.jsx)(eq.A,{size:18})})]}),r?(0,t.jsxs)("div",{className:"mobile-user-profile",children:[(0,t.jsxs)("div",{className:"mobile-user-avatar",style:{boxShadow:"0 0 10px rgba(59, 130, 246, 0.4)"},children:[r.avatar?(0,t.jsx)("img",{src:r.avatar,alt:"Avatar de ".concat(r.name),className:"w-full h-full object-cover rounded-full"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600",children:r.name.charAt(0)}),(0,t.jsx)("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-gray-900"})]}),(0,t.jsxs)("div",{className:"mobile-user-info",children:[(0,t.jsxs)("div",{className:"mobile-user-name flex items-center gap-1",children:[r.name,r.totalCards>100&&(0,t.jsx)("span",{className:"inline-flex items-center justify-center w-4 h-4 bg-gradient-to-r from-amber-400 to-amber-600 rounded-full text-[8px] text-white",title:"Colecionador Experiente",children:"★"})]}),(0,t.jsxs)("div",{className:"mobile-user-stats flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"flex items-center gap-0.5",children:[(0,t.jsx)(O.A,{size:10,className:"text-blue-400"}),r.totalCards||0," cartas"]}),(0,t.jsx)("span",{className:"w-1 h-1 bg-gray-600 rounded-full"}),(0,t.jsxs)("span",{className:"flex items-center gap-0.5",children:[(0,t.jsx)(M.A,{size:10,className:"text-purple-400"}),r.collectionsCount||0," cole\xe7\xf5es"]})]})]}),i&&(0,t.jsx)("button",{onClick:i,className:"mobile-subheader-button hover:bg-red-900/30 hover:text-red-400 transition-colors","aria-label":"Sair da conta",children:(0,t.jsx)(su.A,{size:16})})]}):(0,t.jsxs)("div",{className:"mobile-user-profile",children:[(0,t.jsx)("div",{className:"mobile-user-avatar relative",children:(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-700 to-gray-800",children:(0,t.jsx)(st.A,{size:16,className:"text-gray-400"})})}),(0,t.jsxs)("div",{className:"mobile-user-info",children:[(0,t.jsx)("div",{className:"mobile-user-name",children:"Visitante"}),(0,t.jsx)("div",{className:"mobile-user-stats",children:"Fa\xe7a login para salvar sua cole\xe7\xe3o"})]}),(0,t.jsx)("button",{className:"mobile-subheader-button hover:bg-blue-900/30 hover:text-blue-400 transition-colors","aria-label":"Entrar na conta",children:(0,t.jsx)(eQ.A,{size:16})})]}),(0,t.jsxs)("div",{className:"mobile-menu-content",children:[(0,t.jsx)("div",{className:"py-2 px-4",children:(0,t.jsx)("div",{className:"text-xs font-medium uppercase text-gray-500 mb-2",children:"Navega\xe7\xe3o"})}),(0,t.jsx)("div",{className:"mobile-nav-links",children:j.map(e=>{let s=e.icon;return(0,t.jsxs)("button",{onClick:()=>b(e.id),className:"mobile-nav-link ".concat(c===e.id?"active":""),children:[(0,t.jsx)("span",{className:"mobile-nav-link-icon ".concat(c===e.id?"bg-blue-500/10":""),children:(0,t.jsx)(s,{size:18})}),e.label,(0,t.jsx)("span",{className:"ml-auto transition-transform duration-200 ".concat(c===e.id?"rotate-90":""),children:(0,t.jsx)(eQ.A,{size:16,className:c===e.id?"text-blue-400":"text-gray-500"})})]},e.id)})}),(0,t.jsxs)("div",{className:"py-2 px-4 mt-4",children:[(0,t.jsx)("div",{className:"text-xs font-medium uppercase text-gray-500 mb-2",children:"Configura\xe7\xf5es"}),(0,t.jsxs)("button",{className:"mobile-nav-link",children:[(0,t.jsx)("span",{className:"mobile-nav-link-icon",children:(0,t.jsx)(V.A,{size:18})}),"Prefer\xeancias"]})]})]}),(0,t.jsxs)("div",{className:"mobile-menu-footer",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1.5 mb-1.5",children:[(0,t.jsx)(em.A,{size:12,className:"text-red-500 animate-pulse"}),(0,t.jsx)("span",{children:"Made for MTG Collectors"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{className:"px-1.5 py-0.5 bg-blue-900/30 rounded text-[10px] text-blue-400 font-medium",children:"v1.2.0"}),(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{children:"\xa9 2025"})]})]})]}),u&&(0,t.jsxs)("button",{className:"fixed bottom-20 right-4 w-12 h-12 rounded-full bg-gradient-to-br from-indigo-600 to-blue-600 flex items-center justify-center shadow-lg z-40 animate-slideUp border-2 border-indigo-900/30",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},"aria-label":"Voltar ao topo",children:[(0,t.jsx)("div",{className:"absolute inset-0 rounded-full bg-indigo-500/20 animate-pulse"}),(0,t.jsx)(sb.A,{className:"text-white",size:18})]})]})};function sN(){let[e,s]=(0,l.useState)(null),[a,r]=(0,l.useState)("painel"),[c,n]=(0,l.useState)([]),{currentCollection:i,setCurrentCollection:d,adicionarCarta:m,removerCarta:x}=(0,o.U)(),u=()=>{s(null),localStorage.removeItem("mtg-user")};(0,l.useEffect)(()=>{let e=localStorage.getItem("mtg-user");if(e)try{let a=JSON.parse(e),t={id:a.id||"1",name:a.name||"Usu\xe1rio",email:a.email||"",avatar:a.avatar,joinedAt:a.joinedAt||new Date().toISOString(),collectionsCount:a.collectionsCount||0,totalCards:a.totalCards||0,achievements:a.achievements||[]};s(t)}catch(e){console.error("Erro ao carregar usu\xe1rio salvo:",e),localStorage.removeItem("mtg-user")}},[]);let g=[{id:"painel",label:"Dashboard",icon:M.A,component:(0,t.jsx)(ev,{})},{id:"colecao",label:"Cole\xe7\xe3o",icon:O.A,component:(0,t.jsx)(ee,{allCards:c,setAllCards:n,exportCollectionToCSV:e=>{let s=new Blob([[["Nome","Conjunto","Raridade","Quantidade","CMC","Tipo"],...e.cards.map(e=>[e.card.name,e.card.set_name,e.card.rarity,e.quantity.toString(),e.card.cmc.toString(),e.card.type_line])].map(e=>e.join(",")).join("\\n")],{type:"text/csv"}),a=window.URL.createObjectURL(s),t=document.createElement("a");t.href=a,t.download="".concat(e.name,".csv"),t.click(),window.URL.revokeObjectURL(a)}})},{id:"decks",label:"Deck Builder",icon:eF.A,component:(0,t.jsx)(eI,{})},{id:"regras",label:"Regras",icon:eH.A,component:(0,t.jsx)(eX,{})},{id:"extras",label:"Recursos",icon:eg.A,component:(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"quantum-card-dense p-4 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eg.A,{className:"w-5 h-5 text-purple-400"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Recursos Avan\xe7ados"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Ferramentas premium para aprimorar sua experi\xeancia MTG"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 mb-4",children:[(0,t.jsx)("div",{className:"quantum-card-dense p-3",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-md bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(h.A,{className:"w-4 h-4 text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-white mb-1",children:"Pesquisa Avan\xe7ada"}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"Filtros avan\xe7ados com sintaxe Scryfall"}),(0,t.jsx)("span",{className:"inline-flex items-center h-5 px-2 rounded-md text-[10px] font-medium bg-blue-900/30 text-blue-400",children:"Em Breve"})]})]})}),(0,t.jsx)("div",{className:"quantum-card-dense p-3",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-md bg-purple-500/20 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(sx.A,{className:"w-4 h-4 text-purple-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-white mb-1",children:"Monitoramento de Pre\xe7os"}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"Alertas sobre pre\xe7os e tend\xeancias"}),(0,t.jsx)("span",{className:"inline-flex items-center h-5 px-2 rounded-md text-[10px] font-medium bg-yellow-900/30 text-yellow-400",children:"Beta"})]})]})}),(0,t.jsx)("div",{className:"quantum-card-dense p-3",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-md bg-green-500/20 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(ed.A,{className:"w-4 h-4 text-green-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-white mb-1",children:"Analytics Profissional"}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"Insights sobre sua cole\xe7\xe3o"}),(0,t.jsx)("span",{className:"inline-flex items-center h-5 px-2 rounded-md text-[10px] font-medium bg-green-900/30 text-green-400",children:"Ativo"})]})]})}),(0,t.jsx)("div",{className:"quantum-card-dense p-3",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-md bg-yellow-500/20 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(st.A,{className:"w-4 h-4 text-yellow-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-white mb-1",children:"Comunidade MTG"}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"Conecte-se com colecionadores"}),(0,t.jsx)("span",{className:"inline-flex items-center h-5 px-2 rounded-md text-[10px] font-medium bg-blue-900/30 text-blue-400",children:"Novo"})]})]})})]}),(0,t.jsxs)("div",{className:"quantum-card-dense",children:[(0,t.jsx)("div",{className:"p-3 border-b border-gray-800",children:(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(ec.A,{className:"w-4 h-4 text-yellow-400"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-white",children:"Ferramentas Premium"})]})}),(0,t.jsx)("div",{className:"p-3",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-gray-800/30 rounded-md border border-gray-700/50",children:[(0,t.jsx)("div",{className:"w-7 h-7 rounded-md bg-blue-500/20 flex items-center justify-center",children:(0,t.jsx)(eb.A,{className:"w-3.5 h-3.5 text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-xs font-medium text-white",children:"Importa\xe7\xe3o Massiva"}),(0,t.jsx)("p",{className:"text-[10px] text-gray-400",children:"Importe via CSV/Excel"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-gray-800/30 rounded-md border border-gray-700/50",children:[(0,t.jsx)("div",{className:"w-7 h-7 rounded-md bg-green-500/20 flex items-center justify-center",children:(0,t.jsx)(el.A,{className:"w-3.5 h-3.5 text-green-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-xs font-medium text-white",children:"API Avan\xe7ada"}),(0,t.jsx)("p",{className:"text-[10px] text-gray-400",children:"Integra\xe7\xe3o com sistemas externos"})]})]})]})})]})]})}];return(0,t.jsxs)("div",{className:"mtg-app quantum-compact",children:[(0,t.jsx)("div",{className:"hidden md:block",children:(0,t.jsx)("header",{className:"compact-header",children:(0,t.jsx)("div",{className:"mtg-container",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("a",{href:"#",className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-700 rounded-md flex items-center justify-center text-white text-xs font-bold",children:"MTG"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-base font-bold text-white m-0",children:"MTG Helper"}),(0,t.jsx)("p",{className:"text-xs text-gray-400 m-0",children:"Collection Manager"})]})]}),(0,t.jsx)("div",{children:(0,t.jsx)(sg,{user:e,onLogin:e=>{s(e),localStorage.setItem("mtg-user",JSON.stringify(e))},onLogout:u})})]})})})}),(0,t.jsx)("div",{className:"block md:hidden",children:(0,t.jsx)(sp,{user:e,activeTab:a,onTabChange:r,onLogout:u})}),(0,t.jsx)("div",{className:"mtg-container mt-4",children:(0,t.jsx)("nav",{className:"mb-5 responsive-nav",children:(0,t.jsxs)(eO,{value:a,onValueChange:r,className:"w-full navigation-tabs",children:[(0,t.jsxs)("div",{className:"compact-tabs-container border border-indigo-900/50 rounded-xl p-3 bg-gradient-to-br from-gray-900/95 via-blue-950/10 to-gray-950/95 backdrop-blur-lg shadow-xl",children:[(0,t.jsx)("div",{className:"ambient-glow"}),(0,t.jsx)(eG,{className:"mobile-tabs-grid flex md:flex-row flex-wrap justify-center gap-2 pb-2 mb-1 bg-transparent border-0 p-0",children:g.map(e=>{let s=e.icon;return(0,t.jsxs)(e$,{value:e.id,className:"quantum-tab group relative overflow-hidden",children:[(0,t.jsx)("span",{className:"tab-glow absolute inset-0 opacity-0 group-hover:opacity-30 group-data-[state=active]:opacity-60 transition-opacity"}),(0,t.jsx)("span",{className:"tab-shine absolute inset-0"}),(0,t.jsxs)("div",{className:"tab-content flex flex-col md:flex-row items-center justify-center",children:[(0,t.jsx)("div",{className:"icon-container",children:(0,t.jsx)(s,{className:"w-4 h-4 md:mr-2 mb-1 md:mb-0 relative z-10 tab-icon"})}),(0,t.jsx)("span",{className:"text-xs font-medium tracking-wide relative z-10 tab-label",children:e.label})]})]},e.id)})}),(0,t.jsxs)("div",{className:"flex justify-center mt-3 relative",children:[(0,t.jsx)("div",{className:"tab-indicator-container",children:(0,t.jsx)("div",{className:"tab-indicator-active"})}),(0,t.jsx)("div",{className:"tab-indicator-glow"})]}),(0,t.jsx)("div",{className:"tabs-bottom-decoration",children:(0,t.jsx)("div",{className:"tabs-decoration-line"})})]}),g.map(e=>(0,t.jsx)(eU,{value:e.id,className:"quantum-content-area p-0 mt-4 transition-all duration-300 ease-in-out",children:(0,t.jsx)("div",{className:"content-wrapper",children:e.component})},e.id))]})})})]})}},4233:()=>{},6520:()=>{},6948:(e,s,a)=>{Promise.resolve().then(a.bind(a,3244))},7733:()=>{},8005:()=>{},9930:()=>{}},e=>{var s=s=>e(e.s=s);e.O(0,[993,444,275,166,366,670,286,22,441,684,358],()=>s(6948)),_N_E=e.O()}]);