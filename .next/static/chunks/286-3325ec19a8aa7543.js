(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[286],{809:(e,a,s)=>{"use strict";s.d(a,{A:()=>o});var t=s(5155);s(2115);var r=s(8773),l=s(8145),d=s(7168),c=s(6785),n=s(7108),i=s(2657);let o=e=>{let{card:a,onViewDeck:s,className:o=""}=e,{getCartasUsadasEmDecks:m}=(0,r.U)(),x=m(a.id);if(0===x.length)return null;let u=x.reduce((e,a)=>e+a.quantity,0);return(0,t.jsxs)("div",{className:"space-y-2 ".concat(o),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.A,{className:"w-4 h-4 text-blue-400"}),(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-300",children:["Usada em ",x.length," deck",1!==x.length?"s":""]}),(0,t.jsxs)(l.E,{variant:"outline",className:"text-xs",children:[u," total"]})]}),(0,t.jsx)("div",{className:"space-y-1",children:x.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-700/30 rounded border border-gray-600/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,t.jsx)(n.A,{className:"w-3 h-3 text-gray-400 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-sm text-white truncate",children:e.deck.name}),(0,t.jsxs)("div",{className:"text-xs text-gray-400",children:[e.deck.format," â€¢ ",e.category]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(l.E,{variant:"secondary",className:"text-xs",children:[e.quantity,"x"]}),s&&(0,t.jsx)(d.$,{size:"sm",variant:"ghost",onClick:()=>s(e.deck.id),className:"h-6 w-6 p-0 text-gray-400 hover:text-white",children:(0,t.jsx)(i.A,{className:"w-3 h-3"})})]})]},"".concat(e.deck.id,"-").concat(e.category,"-").concat(a)))})]})}},855:(e,a,s)=>{"use strict";s.d(a,{A:()=>h});var t=s(5155),r=s(2115),l=s(7168),d=s(8482),c=s(5784),n=s(8145),i=s(9852),o=s(9474),m=s(8773),x=s(6785),u=s(4616),g=s(7580);function h(e){let{card:a,onAddToDeck:s,onCreateDeck:h,className:f="",showCreateDeck:b=!0,defaultQuantity:p=1,showCategorySelect:j=!0}=e,{decks:y,criarDeck:N,adicionarCartaAoDeck:v}=(0,m.U)(),[w,k]=(0,r.useState)(""),[C,A]=(0,r.useState)(p),[R,z]=(0,r.useState)("mainboard"),[D,P]=(0,r.useState)(!1),[S,U]=(0,r.useState)({name:"",format:"Standard",colors:[],description:"",isPublic:!1,tags:[]});return(0,t.jsxs)("div",{className:"space-y-4 ".concat(f),children:[y.length>0&&(0,t.jsxs)(d.Zp,{className:"bg-gray-800/50 border-gray-700/50",children:[(0,t.jsx)(d.aR,{className:"pb-3",children:(0,t.jsx)(d.ZB,{className:"text-white text-sm",children:"Adicionar a Deck Existente"})}),(0,t.jsxs)(d.Wu,{className:"space-y-3",children:[(0,t.jsxs)(c.l6,{value:w,onValueChange:k,children:[(0,t.jsx)(c.bq,{className:"bg-gray-700/50 border-gray-600 text-white",children:(0,t.jsx)(c.yv,{placeholder:"Selecione um deck..."})}),(0,t.jsx)(c.gC,{children:y.map(e=>(0,t.jsx)(c.eb,{value:e.id,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(x.A,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:e.name}),(0,t.jsx)(n.E,{variant:"outline",className:"text-xs",children:e.format}),(0,t.jsxs)(n.E,{variant:"secondary",className:"text-xs",children:[e.cards.reduce((e,a)=>e+a.quantity,0)," cartas"]})]})},e.id))})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Quantidade"}),(0,t.jsx)(i.p,{type:"number",min:"1",max:"99",value:C,onChange:e=>A(parseInt(e.target.value)||1),className:"bg-gray-700/50 border-gray-600 text-white"})]}),j&&(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Categoria"}),(0,t.jsxs)(c.l6,{value:R,onValueChange:e=>z(e),children:[(0,t.jsx)(c.bq,{className:"bg-gray-700/50 border-gray-600 text-white",children:(0,t.jsx)(c.yv,{})}),(0,t.jsxs)(c.gC,{children:[(0,t.jsx)(c.eb,{value:"mainboard",children:"Deck Principal"}),(0,t.jsx)(c.eb,{value:"sideboard",children:"Sideboard"}),(0,t.jsx)(c.eb,{value:"commander",children:"Commander"})]})]})]})]}),(0,t.jsxs)(l.$,{onClick:()=>{w&&a&&(s?s(w,C,R):v(w,a,R,C),A(p))},disabled:!w,className:"w-full bg-blue-600 hover:bg-blue-700",children:[(0,t.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Adicionar ao Deck"]})]})]}),b&&(0,t.jsxs)(d.Zp,{className:"bg-gray-800/50 border-gray-700/50",children:[(0,t.jsx)(d.aR,{className:"pb-3",children:(0,t.jsx)(d.ZB,{className:"text-white text-sm",children:"Criar Novo Deck"})}),(0,t.jsx)(d.Wu,{children:D?(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Nome do Deck"}),(0,t.jsx)(i.p,{value:S.name,onChange:e=>U(a=>({...a,name:e.target.value})),placeholder:"Nome do deck...",className:"bg-gray-700/50 border-gray-600 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Formato"}),(0,t.jsxs)(c.l6,{value:S.format,onValueChange:e=>U(a=>({...a,format:e})),children:[(0,t.jsx)(c.bq,{className:"bg-gray-700/50 border-gray-600 text-white",children:(0,t.jsx)(c.yv,{})}),(0,t.jsx)(c.gC,{children:["Standard","Modern","Legacy","Vintage","Commander","Pioneer","Historic","Pauper"].map(e=>(0,t.jsx)(c.eb,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-400 mb-2",children:"Cores do Deck"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:[{code:"W",name:"Branco",color:"bg-yellow-100"},{code:"U",name:"Azul",color:"bg-blue-100"},{code:"B",name:"Preto",color:"bg-gray-100"},{code:"R",name:"Vermelho",color:"bg-red-100"},{code:"G",name:"Verde",color:"bg-green-100"}].map(e=>(0,t.jsx)(l.$,{size:"sm",variant:S.colors.includes(e.code)?"default":"outline",onClick:()=>{U(a=>({...a,colors:a.colors.includes(e.code)?a.colors.filter(a=>a!==e.code):[...a.colors,e.code]}))},className:"text-xs ".concat(S.colors.includes(e.code)?"bg-blue-600 hover:bg-blue-700":"border-gray-600 text-gray-300 hover:bg-gray-700"),children:e.name},e.code))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Descri\xe7\xe3o (opcional)"}),(0,t.jsx)(o.T,{value:S.description,onChange:e=>U(a=>({...a,description:e.target.value})),placeholder:"Descri\xe7\xe3o do deck...",rows:2,className:"bg-gray-700/50 border-gray-600 text-white resize-none"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(l.$,{onClick:()=>{S.name.trim()&&(N({...S,cards:a?[{card:a,quantity:C,category:R}]:[]}),P(!1),U({name:"",format:"Standard",colors:[],description:"",isPublic:!1,tags:[]}),h&&h())},disabled:!S.name.trim(),className:"flex-1 bg-green-600 hover:bg-green-700",children:[(0,t.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"Criar Deck"]}),(0,t.jsx)(l.$,{onClick:()=>P(!1),variant:"outline",className:"flex-1 border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancelar"})]})]}):(0,t.jsxs)(l.$,{onClick:()=>P(!0),variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",children:[(0,t.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Criar Novo Deck"]})})]}),0===y.length&&(0,t.jsx)(d.Zp,{className:"bg-gray-800/50 border-gray-700/50",children:(0,t.jsxs)(d.Wu,{className:"text-center py-6",children:[(0,t.jsx)(g.A,{className:"w-8 h-8 mx-auto mb-2 text-gray-500"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Voc\xea ainda n\xe3o criou nenhum deck"}),b&&(0,t.jsxs)(l.$,{onClick:()=>P(!0),variant:"outline",size:"sm",className:"mt-3 border-gray-600 text-gray-300 hover:bg-gray-700",children:[(0,t.jsx)(u.A,{className:"w-3 h-3 mr-2"}),"Criar Primeiro Deck"]})]})})]})}},5784:(e,a,s)=>{"use strict";s.d(a,{bq:()=>x,eb:()=>f,gC:()=>h,l6:()=>o,yv:()=>m});var t=s(5155),r=s(2115),l=s(8893),d=s(6474),c=s(7863),n=s(5196),i=s(3999);let o=l.bL;l.YJ;let m=l.WT,x=r.forwardRef((e,a)=>{let{className:s,children:r,...c}=e;return(0,t.jsxs)(l.l9,{ref:a,className:(0,i.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...c,children:[r,(0,t.jsx)(l.In,{asChild:!0,children:(0,t.jsx)(d.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=l.l9.displayName;let u=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.PP,{ref:a,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,t.jsx)(c.A,{className:"h-4 w-4"})})});u.displayName=l.PP.displayName;let g=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.wn,{ref:a,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,t.jsx)(d.A,{className:"h-4 w-4"})})});g.displayName=l.wn.displayName;let h=r.forwardRef((e,a)=>{let{className:s,children:r,position:d="popper",...c}=e;return(0,t.jsx)(l.ZL,{children:(0,t.jsxs)(l.UC,{ref:a,className:(0,i.cn)("relative z-50 max-h-96 min-w-[8rem] rounded-lg text-card-foreground bg-gray-800/80 backdrop-blur-xl shadow-2xl overflow-hidden border-0 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===d&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:d,...c,children:[(0,t.jsx)(u,{}),(0,t.jsx)(l.LM,{className:(0,i.cn)("p-1","popper"===d&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,t.jsx)(g,{})]})})});h.displayName=l.UC.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.JU,{ref:a,className:(0,i.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=l.JU.displayName;let f=r.forwardRef((e,a)=>{let{className:s,children:r,...d}=e;return(0,t.jsxs)(l.q7,{ref:a,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...d,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(l.VF,{children:(0,t.jsx)(n.A,{className:"h-4 w-4"})})}),(0,t.jsx)(l.p4,{children:r})]})});f.displayName=l.q7.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.wv,{ref:a,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=l.wv.displayName},8501:()=>{},9474:(e,a,s)=>{"use strict";s.d(a,{T:()=>d});var t=s(5155),r=s(2115),l=s(3999);let d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...r})});d.displayName="Textarea"},9840:(e,a,s)=>{"use strict";s.d(a,{Cf:()=>x,L3:()=>g,c7:()=>u,lG:()=>n,zM:()=>i});var t=s(5155),r=s(2115),l=s(5452),d=s(4416),c=s(3999);let n=l.bL,i=l.l9,o=l.ZL;l.bm;let m=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.hJ,{ref:a,className:(0,c.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});m.displayName=l.hJ.displayName;let x=r.forwardRef((e,a)=>{let{className:s,children:r,...n}=e;return(0,t.jsxs)(o,{children:[(0,t.jsx)(m,{}),(0,t.jsxs)(l.UC,{ref:a,className:(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg text-card-foreground bg-gray-800/80 backdrop-blur-xl shadow-2xl overflow-hidden border-0 p-6 duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]",s),...n,children:[r,(0,t.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(d.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=l.UC.displayName;let u=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,c.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...s})};u.displayName="DialogHeader";let g=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.hE,{ref:a,className:(0,c.cn)("text-lg font-semibold leading-none tracking-tight",s),...r})});g.displayName=l.hE.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.VY,{ref:a,className:(0,c.cn)("text-sm text-muted-foreground",s),...r})}).displayName=l.VY.displayName}}]);