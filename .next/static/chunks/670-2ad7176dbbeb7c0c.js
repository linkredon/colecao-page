"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[670],{525:(e,a,t)=>{t.d(a,{qv:()=>n,vI:()=>i,z:()=>o});var r=t(3702);let o=async e=>{try{let a=(0,r.b)(e),t=a!==e?"".concat(e," OR ").concat(a):e,o=encodeURIComponent(t);return await fetch("https://api.scryfall.com/cards/search?q=".concat(o,"&order=name&dir=asc&unique=cards&page=1"))}catch(e){throw console.error("Erro ao buscar cartas com tradu\xe7\xe3o:",e),e}},n=async e=>{try{let a=(0,r.b)(e),t=encodeURIComponent(a),o=await fetch("https://api.scryfall.com/cards/named?exact=".concat(t));if(!o.ok&&a!==e){let a=await fetch("https://api.scryfall.com/cards/named?exact=".concat(encodeURIComponent(e)));if(a.ok)return await a.json();throw Error("Carta n\xe3o encontrada: ".concat(e))}if(o.ok)return await o.json();throw Error("Carta n\xe3o encontrada: ".concat(e))}catch(e){throw console.error("Erro ao buscar carta pelo nome com tradu\xe7\xe3o:",e),e}},i=async e=>{try{let a=(0,r.b)(e),t='"'.concat(encodeURIComponent(a),'"+unique:prints&order=released'),o=await fetch("https://api.scryfall.com/cards/search?q=".concat(t));if(!o.ok&&a!==e){let a='"'.concat(encodeURIComponent(e),'"+unique:prints&order=released');return await fetch("https://api.scryfall.com/cards/search?q=".concat(a))}return o}catch(e){throw console.error("Erro ao buscar impress\xf5es da carta com tradu\xe7\xe3o:",e),e}}},813:(e,a,t)=>{t.d(a,{B:()=>s,h:()=>i});var r=t(5155),o=t(2115);let n=(0,o.createContext)({card:null,isModalOpen:!1,openModal:()=>{},closeModal:()=>{},quantidadeNaColecao:async()=>0,adicionarCarta:async()=>{},visualizationType:"grid",setVisualizationType:()=>{},mostrarCartasNaColecao:!0,toggleMostrarCartasNaColecao:()=>{},atualizarPesquisa:async()=>{},showDeckSelector:!1,setShowDeckSelector:()=>{}}),i=()=>(0,o.useContext)(n),s=e=>{let{children:a,getQuantidadeNaColecao:t,adicionarCartaAColecao:i,adicionarCartaAoDeck:s,onAtualizarPesquisa:d=async()=>{}}=e,[c,l]=(0,o.useState)(null),[u,g]=(0,o.useState)(!1),[f,m]=(0,o.useState)("grid"),[p,h]=(0,o.useState)(!0),[v,w]=(0,o.useState)(!1);return(0,r.jsx)(n.Provider,{value:{card:c,isModalOpen:u,openModal:e=>{l(e),g(!0)},closeModal:()=>{g(!1),setTimeout(()=>l(null),300)},quantidadeNaColecao:t,adicionarCarta:i,adicionarAoDeck:s,visualizationType:f,setVisualizationType:m,mostrarCartasNaColecao:p,toggleMostrarCartasNaColecao:()=>{h(e=>!e)},atualizarPesquisa:d,showDeckSelector:v,setShowDeckSelector:w},children:a})}},3702:(e,a,t)=>{t.d(a,{S:()=>n,b:()=>o});let r={criatura:"creature",terreno:"land","m\xe1gica instant\xe2nea":"instant",instantânea:"instant",feitiço:"sorcery",artefato:"artifact",encantamento:"enchantment",planeswalker:"planeswalker",elfo:"elf",elfos:"elves",humano:"human",humanos:"humans",zumbi:"zombie",zumbis:"zombies",goblin:"goblin",goblins:"goblins",clérigo:"cleric",clérigos:"clerics",guerreiro:"warrior",guerreiros:"warriors",mago:"wizard",magos:"wizards",anjo:"angel",anjos:"angels",demônio:"demon",demônios:"demons",dragão:"dragon",dragões:"dragons",besta:"beast",bestas:"beasts",druida:"druid",druidas:"druids",vampiro:"vampire",vampiros:"vampires",branco:"white",azul:"blue",preto:"black",vermelho:"red",verde:"green",incolor:"colorless",multicolorido:"multicolored",voar:"flying","toque mort\xedfero":"deathtouch","v\xednculo com a vida":"lifelink",iniciativa:"first strike",alcance:"reach",vigilância:"vigilance",atropelar:"trample",lampejo:"flash",ímpeto:"haste",proteção:"protection",indestrutível:"indestructible",exile:"exile",exilar:"exile",compre:"draw",comprar:"draw","contra-magia":"counterspell",anular:"counter",destruir:"destroy",sacrificar:"sacrifice",retornar:"return",mana:"mana","for\xe7a do gigante":"giant growth",choque:"shock","elfos de llanowar":"llanowar elves",contramágica:"counterspell",relâmpago:"lightning bolt",terror:"terror","crescimento gigante":"giant growth","serra anjo":"serra angel","urso runha":"runeclaw bear"},o=e=>{let a=e.toLowerCase().trim();if(r[a])return r[a];let t=a.split(/\s+/);return t.length>1?t.map(e=>r[e]||e).join(" "):e},n=(e,a)=>{var t,r,n,i;if(!a.trim())return!0;let s=a.toLowerCase(),d=o(s);return e.name.toLowerCase().includes(s)||(null===(t=e.type_line)||void 0===t?void 0:t.toLowerCase().includes(s))||(null===(r=e.oracle_text)||void 0===r?void 0:r.toLowerCase().includes(s))||d!==s&&(e.name.toLowerCase().includes(d)||(null===(n=e.type_line)||void 0===n?void 0:n.toLowerCase().includes(d))||(null===(i=e.oracle_text)||void 0===i?void 0:i.toLowerCase().includes(d)))}},3999:(e,a,t)=>{t.d(a,{cn:()=>n});var r=t(2596),o=t(9688);function n(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,o.QP)((0,r.$)(a))}},7168:(e,a,t)=>{t.d(a,{$:()=>c});var r=t(5155),o=t(2115),n=t(9708),i=t(2085),s=t(3999);let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-blue-600 text-white hover:bg-blue-700 shadow-sm hover:shadow-md",destructive:"bg-red-600 text-white hover:bg-red-700 shadow-sm hover:shadow-md",outline:"border border-gray-300 bg-white hover:bg-gray-50 text-gray-900 shadow-sm hover:shadow-md",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 shadow-sm hover:shadow-md",ghost:"hover:bg-gray-100 text-gray-900",link:"text-blue-600 underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-12 rounded-lg px-8 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=o.forwardRef((e,a)=>{let{className:t,variant:o,size:i,asChild:c=!1,...l}=e,u=c?n.DX:"button";return(0,r.jsx)(u,{className:(0,s.cn)(d({variant:o,size:i,className:t})),ref:a,...l})});c.displayName="Button"},8145:(e,a,t)=>{t.d(a,{E:()=>s});var r=t(5155);t(2115);var o=t(2085),n=t(3999);let i=(0,o.F)("inline-flex items-center rounded-lg border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-blue-100 text-blue-800 hover:bg-blue-200",secondary:"border-transparent bg-gray-100 text-gray-800 hover:bg-gray-200",destructive:"border-transparent bg-red-100 text-red-800 hover:bg-red-200",outline:"text-gray-900 border-gray-300"}},defaultVariants:{variant:"default"}});function s(e){let{className:a,variant:t,...o}=e;return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:t}),a),...o})}},8482:(e,a,t)=>{t.d(a,{Wu:()=>c,ZB:()=>d,Zp:()=>i,aR:()=>s});var r=t(5155),o=t(2115),n=t(3999);let i=o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("rounded-xl border bg-white text-gray-900 shadow-sm hover:shadow-md transition-all duration-200",t),...o})});i.displayName="Card";let s=o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...o})});s.displayName="CardHeader";let d=o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("text-xl font-semibold leading-none tracking-tight text-gray-900",t),...o})});d.displayName="CardTitle",o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("text-sm text-gray-600",t),...o})}).displayName="CardDescription";let c=o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0",t),...o})});c.displayName="CardContent",o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",t),...o})}).displayName="CardFooter"},8773:(e,a,t)=>{t.d(a,{AppProvider:()=>d,U:()=>s});var r=t(5155),o=t(2115),n=t(525);let i=(0,o.createContext)(null),s=()=>{let e=(0,o.useContext)(i);if(!e)throw Error("useAppContext deve ser usado dentro de um AppProvider");return e},d=e=>{let{children:a}=e,[t,s]=(0,o.useState)({id:"1",name:"Minha Cole\xe7\xe3o",description:"Cole\xe7\xe3o principal de cartas Magic",cards:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isPublic:!1}),[d,c]=(0,o.useState)([]);(0,o.useEffect)(()=>{let e=localStorage.getItem("mtg-collection");if(e)try{let a=JSON.parse(e);s(a)}catch(e){console.error("Erro ao carregar cole\xe7\xe3o salva:",e)}let a=localStorage.getItem("mtg-decks");if(a)try{let e=JSON.parse(a);c(e)}catch(e){console.error("Erro ao carregar decks salvos:",e)}},[]),(0,o.useEffect)(()=>{localStorage.setItem("mtg-collection",JSON.stringify(t))},[t]),(0,o.useEffect)(()=>{localStorage.setItem("mtg-decks",JSON.stringify(d))},[d]);let l=function(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mainboard";c(r=>r.map(r=>r.id===e?{...r,cards:r.cards.filter(e=>e.card.id!==a||e.category!==t),lastModified:new Date().toISOString()}:r))},u=async(e,a)=>{try{let t=e.split("\n").filter(e=>e.trim()),r=[],o="mainboard";for(let e of t){let a=e.trim();if(a.toLowerCase().includes("sideboard")){o="sideboard";continue}if(a.toLowerCase().includes("commander")){o="commander";continue}let t=a.match(/^(\d+)x?\s+(.+)$/);if(t){let e=parseInt(t[1]),a=t[2].trim();try{let t=await (0,n.qv)(a);t&&r.push({card:t,quantity:e,category:o})}catch(e){console.warn("Erro ao buscar carta: ".concat(a),e)}}}let i={...a,id:Date.now().toString(),cards:r,createdAt:new Date().toISOString(),lastModified:new Date().toISOString()};c(e=>[...e,i])}catch(e){throw console.error("Erro ao importar deck:",e),e}};return(0,r.jsx)(i.Provider,{value:{currentCollection:t,setCurrentCollection:s,adicionarCarta:function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;s(t=>t.cards.find(a=>a.card.id===e.id)?{...t,cards:t.cards.map(t=>t.card.id===e.id?{...t,quantity:t.quantity+a}:t),updatedAt:new Date().toISOString()}:{...t,cards:[...t.cards,{card:e,quantity:a,condition:"Near Mint",foil:!1}],updatedAt:new Date().toISOString()})},removerCarta:e=>{s(a=>{let t=a.cards.find(a=>a.card.id===e.id);return t&&t.quantity>1?{...a,cards:a.cards.map(a=>a.card.id===e.id?{...a,quantity:a.quantity-1}:a),updatedAt:new Date().toISOString()}:{...a,cards:a.cards.filter(a=>a.card.id!==e.id),updatedAt:new Date().toISOString()}})},getQuantidadeNaColecao:e=>{let a=t.cards.find(a=>a.card.id===e);return a?a.quantity:0},decks:d,setDecks:c,criarDeck:e=>{let a={...e,id:Date.now().toString(),createdAt:new Date().toISOString(),lastModified:new Date().toISOString()};return c(e=>[...e,a]),a.id},editarDeck:(e,a)=>{c(t=>t.map(t=>t.id===e?{...t,...a,lastModified:new Date().toISOString()}:t))},deletarDeck:e=>{c(a=>a.filter(a=>a.id!==e))},duplicarDeck:(e,a)=>{let t=d.find(a=>a.id===e);if(t){let e={...t,id:Date.now().toString(),name:a||"".concat(t.name," (C\xf3pia)"),createdAt:new Date().toISOString(),lastModified:new Date().toISOString()};c(a=>[...a,e])}},adicionarCartaAoDeck:function(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mainboard",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;c(o=>o.map(o=>o.id===e?o.cards.find(e=>e.card.id===a.id&&e.category===t)?{...o,cards:o.cards.map(e=>e.card.id===a.id&&e.category===t?{...e,quantity:e.quantity+r}:e),lastModified:new Date().toISOString()}:{...o,cards:[...o.cards,{card:a,quantity:r,category:t}],lastModified:new Date().toISOString()}:o))},removerCartaDoDeck:l,atualizarQuantidadeNoDeck:function(e,a,t){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"mainboard";if(t<=0){l(e,a,r);return}c(o=>o.map(o=>o.id===e?{...o,cards:o.cards.map(e=>e.card.id===a&&e.category===r?{...e,quantity:t}:e),lastModified:new Date().toISOString()}:o))},getCartasUsadasEmDecks:e=>{let a=[];return d.forEach(t=>{t.cards.forEach(r=>{r.card.id===e&&a.push({deck:t,quantity:r.quantity,category:r.category})})}),a},importarDeckDeLista:u},children:a})}},9852:(e,a,t)=>{t.d(a,{p:()=>i});var r=t(5155),o=t(2115),n=t(3999);let i=o.forwardRef((e,a)=>{let{className:t,type:o,...i}=e;return(0,r.jsx)("input",{type:o,className:(0,n.cn)("flex h-10 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:border-transparent disabled:cursor-not-allowed disabled:opacity-50 transition-colors",t),ref:a,...i})});i.displayName="Input"}}]);